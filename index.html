<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SP 57</title> 
<link rel="icon" type="image/x-icon" href="favicon.png"> 
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Poppins', sans-serif;
}

:root {
--primary: #6366f1;
--primary-dark: #4f46e5;
--secondary: #ec4899;
--success: #10b981;
--danger: #ef4444;
--warning: #f59e0b;
--dark: #1f2937;
--light: #f9fafb;
--gray: #6b7280;
--border-radius: 16px;
--shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
--shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
--shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

body {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
background-attachment: fixed;
min-height: 100vh;
}

body::before {
content: '';
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.05" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,144C960,149,1056,139,1152,122.7C1248,107,1344,85,1392,74.7L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') repeat-x bottom;
pointer-events: none;
}

.tekst {
white-space: pre-line;
font-size: 16px;
line-height: 1.8;
color: var(--dark);
}

/* HEADER */
.header {
text-align: center;
padding: 4rem 2rem;
background: linear-gradient(135deg, rgba(99, 102, 241, 0.95), rgba(139, 92, 246, 0.95));
color: white;
position: relative;
overflow: hidden;
backdrop-filter: blur(10px);
box-shadow: var(--shadow-lg);
}

.header::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
background-size: 50px 50px;
animation: moveBackground 20s linear infinite;
}

@keyframes moveBackground {
0% { transform: translate(0, 0); }
100% { transform: translate(50px, 50px); }
}

.header h1 {
font-size: 3rem;
font-weight: 700;
margin-bottom: 0.5rem;
animation: fadeInDown 0.8s ease-out;
text-shadow: 2px 4px 8px rgba(0, 0, 0, 0.2);
position: relative;
z-index: 1;
}

@keyframes fadeInDown {
from { transform: translateY(-30px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.search-container {
position: absolute;
top: 25px;
right: 25px;
display: flex;
gap: 12px;
z-index: 10;
}

.search-container a {
color: white;
text-decoration: none;
padding: 12px 24px;
border-radius: 50px;
transition: var(--transition);
background: rgba(255, 255, 255, 0.15);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.2);
display: flex;
align-items: center;
font-weight: 500;
font-size: 14px;
}

.search-container a:hover {
background: rgba(255, 255, 255, 0.25);
transform: translateY(-2px);
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

/* NAVIGATION */
nav {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
padding: 1.5rem;
position: sticky;
top: 0;
box-shadow: var(--shadow-md);
z-index: 100;
border-bottom: 3px solid var(--primary);
}

.menu {
display: flex;
flex-wrap: wrap;
gap: 12px;
max-width: 1400px;
margin: 0 auto;
justify-content: center;
}

.menu a {
color: var(--dark);
text-decoration: none;
padding: 12px 24px;
border-radius: 50px;
transition: var(--transition);
background: white;
border: 2px solid transparent;
display: flex;
align-items: center;
white-space: nowrap;
font-weight: 500;
font-size: 14px;
position: relative;
overflow: hidden;
}

.menu a::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
transition: left 0.5s;
}

.menu a:hover::before {
left: 100%;
}

.menu a:hover {
border-color: var(--primary);
transform: translateY(-2px);
box-shadow: var(--shadow-sm);
color: var(--primary);
}

.menu a.active {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

/* CONTAINER */
.container {
max-width: 1400px;
margin: 2rem auto;
padding: 0 1.5rem;
position: relative;
z-index: 1;
}

/* ANNOUNCEMENT CARDS */
.announcement-card {
background: white;
border-radius: var(--border-radius);
padding: 2rem;
margin-bottom: 1.5rem;
box-shadow: var(--shadow-md);
animation: fadeInUp 0.5s ease;
position: relative;
border-left: 5px solid var(--primary);
transition: var(--transition);
}

.announcement-card:hover {
transform: translateY(-4px);
box-shadow: var(--shadow-lg);
}

.announcement-card h2 {
color: var(--dark);
margin-bottom: 1rem;
font-size: 1.5rem;
font-weight: 600;
}

.announcement-card .time {
color: var(--gray);
font-size: 0.875rem;
margin-top: 1rem;
display: flex;
align-items: center;
gap: 6px;
}

.announcement-card .time::before {
content: 'üïê';
}

.announcement-card .actions {
position: absolute;
top: 1.5rem;
right: 1.5rem;
display: flex;
gap: 8px;
}

.announcement-card .actions span {
cursor: pointer;
font-size: 1.5rem;
transition: var(--transition);
width: 36px;
height: 36px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 8px;
}

.announcement-card .actions span:hover {
transform: scale(1.2);
background: rgba(0, 0, 0, 0.05);
}

.announcement-card .actions .delete:hover { background: rgba(239, 68, 68, 0.1); }
.announcement-card .actions .edit:hover { background: rgba(99, 102, 241, 0.1); }
.announcement-card .actions .move:hover { background: rgba(16, 185, 129, 0.1); }

/* MESSAGE RECIPIENTS */
.message-recipients {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin: 1rem 0;
}

.recipient-tag {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.recipient-tag.teacher {
    background: linear-gradient(135deg, #10b981, #059669);
}

.recipient-tag.class {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

.message-datetime {
    color: var(--gray);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 1rem;
    padding: 8px 12px;
    background: var(--light);
    border-radius: 8px;
    width: fit-content;
}

/* RECIPIENT SELECTOR */
.recipient-selector {
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1rem;
    margin-bottom: 1rem;
    max-height: 250px;
    overflow-y: auto;
}

.recipient-selector h4 {
    color: var(--dark);
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.recipient-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.recipient-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: var(--light);
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transition);
    border: 2px solid transparent;
    font-size: 0.9rem;
}

.recipient-item:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: var(--primary);
}

.recipient-item.selected {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
    border-color: var(--primary);
}

.recipient-item.selected.teacher-item {
    background: linear-gradient(135deg, #10b981, #059669);
    border-color: #10b981;
}

.recipient-item.selected.class-item {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    border-color: #f59e0b;
}

.recipient-item input[type="checkbox"] {
    display: none;
}

.selected-count {
    font-size: 0.85rem;
    color: var(--gray);
    margin-top: 0.5rem;
    padding: 4px 8px;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 6px;
    display: inline-block;
}

.recipient-type-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 1rem;
}

.recipient-type-tab {
    padding: 10px 20px;
    border: 2px solid var(--primary);
    border-radius: 25px;
    background: white;
    cursor: pointer;
    transition: var(--transition);
    font-weight: 500;
    font-size: 0.9rem;
}

.recipient-type-tab.active {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
}

.recipient-type-tab:hover:not(.active) {
    background: rgba(99, 102, 241, 0.1);
}

.recipient-section {
    display: none;
}

.recipient-section.active {
    display: block;
}

/* HOMEPAGE CONTENT */
.homepage-content {
background: white;
border-radius: var(--border-radius);
padding: 3rem;
line-height: 1.8;
box-shadow: var(--shadow-lg);
}

.homepage-content h1 {
color: var(--primary);
font-size: 2.5rem;
margin-bottom: 1.5rem;
font-weight: 700;
}

.homepage-content h2 {
color: var(--secondary);
font-size: 2rem;
margin: 2rem 0 1rem;
font-weight: 600;
}

.homepage-content h3 {
color: var(--primary);
font-size: 1.5rem;
margin: 1.5rem 0 1rem;
font-weight: 600;
}

.homepage-content p {
margin-bottom: 1rem;
color: var(--dark);
}

.homepage-content a {
color: var(--primary);
text-decoration: none;
font-weight: 500;
display: inline-flex;
align-items: center;
gap: 8px;
padding: 12px 24px;
background: rgba(99, 102, 241, 0.1);
border-radius: 50px;
margin: 8px 8px 8px 0;
transition: var(--transition);
}

.homepage-content a:hover {
background: var(--primary);
color: white;
transform: translateX(4px);
}

/* TABLES */
.teachers-table, .tutors-table {
width: 100%;
border-collapse: separate;
border-spacing: 0;
margin-top: 1.5rem;
background: white;
border-radius: var(--border-radius);
overflow: hidden;
box-shadow: var(--shadow-md);
}

/* FILTERS */
.filters-container {
    background: white;
    border-radius: var(--border-radius);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: var(--shadow-md);
}

.filters-container h3 {
    color: var(--dark);
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.filter-options {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.filter-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: 12px;
    background: var(--light);
    cursor: pointer;
    transition: var(--transition);
    border: 2px solid transparent;
}

.filter-option:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: var(--primary);
}

.filter-option input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--primary);
}

.filter-option label {
    cursor: pointer;
    font-weight: 500;
    color: var(--dark);
    user-select: none;
}

.filter-orange { border-left: 4px solid #ff9800; }
.filter-green { border-left: 4px solid #4caf50; }
.filter-red { border-left: 4px solid #f44336; }
.filter-white { border-left: 4px solid #e0e0e0; }

.teachers-table th, .teachers-table td,
.tutors-table th, .tutors-table td {
padding: 1.25rem;
text-align: left;
border-bottom: 1px solid #f0f0f0;
}

.teachers-table th, .tutors-table th {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
font-weight: 600;
text-transform: uppercase;
font-size: 0.875rem;
letter-spacing: 0.5px;
}

.teachers-table tbody tr, .tutors-table tbody tr {
transition: var(--transition);
}

.teachers-table tr:hover, .tutors-table tr:hover {
background: rgba(99, 102, 241, 0.05);
transform: scale(1.01);
}

.teachers-table td, .tutors-table td {
color: var(--dark);
}

/* MODERN TEACHERS SECTION */
.teachers-modern-container {
max-width: 1400px;
margin: 0 auto;
padding: 2rem;
}

.teachers-modern-title {
text-align: center;
font-size: 3rem;
color: white;
margin-bottom: 3rem;
position: relative;
padding-bottom: 1.5rem;
font-weight: 700;
text-shadow: 2px 4px 8px rgba(0, 0, 0, 0.2);
}

.teachers-modern-title::after {
content: '';
position: absolute;
bottom: 0;
left: 50%;
transform: translateX(-50%);
width: 120px;
height: 5px;
background: linear-gradient(90deg, var(--secondary), var(--warning));
border-radius: 10px;
}

.teachers-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
gap: 1.5rem;
margin-bottom: 3rem;
}

.teacher-card {
background: white;
border-radius: var(--border-radius);
padding: 1.75rem;
box-shadow: var(--shadow-md);
transition: var(--transition);
border-top: 4px solid var(--primary);
position: relative;
overflow: hidden;
}

.teacher-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(236, 72, 153, 0.05));
opacity: 0;
transition: var(--transition);
z-index: 0;
}

.teacher-card:hover::before {
opacity: 1;
}

.teacher-card:hover {
transform: translateY(-8px);
box-shadow: var(--shadow-lg);
}

.teacher-card-header {
display: flex;
align-items: center;
margin-bottom: 1rem;
position: relative;
z-index: 1;
}

.subject-icon {
width: 56px;
height: 56px;
border-radius: 14px;
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
display: flex;
align-items: center;
justify-content: center;
font-size: 1.75rem;
margin-right: 1rem;
flex-shrink: 0;
box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.subject-name {
font-size: 1.4rem;
font-weight: 600;
color: var(--dark);
line-height: 1.2;
}

.teachers-list {
position: relative;
z-index: 1;
color: var(--gray);
line-height: 1.8;
font-size: 0.95rem;
}

/* ADMIN SECTION */
.admin-section {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
border-radius: 24px;
padding: 3rem;
margin-top: 3rem;
color: white;
box-shadow: var(--shadow-lg);
position: relative;
overflow: hidden;
}

.admin-section::before {
content: '';
position: absolute;
top: -50%;
right: -50%;
width: 100%;
height: 100%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 2px, transparent 2px);
background-size: 40px 40px;
}

.admin-section h2 {
text-align: center;
font-size: 2.5rem;
margin-bottom: 2.5rem;
color: white;
font-weight: 700;
position: relative;
z-index: 1;
}

.admin-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
gap: 1.5rem;
position: relative;
z-index: 1;
}

.admin-card {
background: rgba(255, 255, 255, 0.15);
backdrop-filter: blur(20px);
border-radius: 16px;
padding: 1.75rem;
border: 2px solid rgba(255, 255, 255, 0.2);
transition: var(--transition);
}

.admin-card:hover {
background: rgba(255, 255, 255, 0.25);
transform: translateY(-4px);
box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.admin-position {
font-weight: 600;
font-size: 1.1rem;
margin-bottom: 0.5rem;
color: #fff;
}

.admin-name {
color: rgba(255, 255, 255, 0.9);
font-size: 0.95rem;
}

/* BUTTONS */
.add-button {
background: linear-gradient(135deg, var(--success), #059669);
color: white;
border: none;
padding: 1rem 2.5rem;
border-radius: 50px;
cursor: pointer;
font-size: 1.1rem;
font-weight: 600;
transition: var(--transition);
margin-bottom: 2rem;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
display: inline-flex;
align-items: center;
gap: 8px;
}

.add-button::before {
content: '‚ûï';
}

.add-button:hover {
transform: translateY(-2px);
box-shadow: 0 8px 20px rgba(16, 185, 129, 0.5);
}

.add-button:active {
transform: translateY(0);
}

/* MODAL */
.modal-overlay {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: rgba(0, 0, 0, 0.6);
backdrop-filter: blur(8px);
display: none;
justify-content: center;
align-items: center;
z-index: 1000;
animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

.modal-content {
background: white;
padding: 2.5rem;
border-radius: var(--border-radius);
width: 90%;
max-width: 650px;
box-shadow: var(--shadow-lg);
animation: slideUp 0.3s ease;
max-height: 90vh;
overflow-y: auto;
}

@keyframes slideUp {
from { transform: translateY(30px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.modal-content h2 {
color: var(--dark);
margin-bottom: 1.5rem;
font-size: 1.75rem;
font-weight: 600;
}

.form-group {
margin-bottom: 1.5rem;
}

.form-group label {
display: block;
margin-bottom: 0.5rem;
color: var(--dark);
font-weight: 500;
font-size: 0.95rem;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    font-size: 1rem;
    transition: border-color 0.3s, box-shadow 0.3s;
    font-family: 'Poppins', sans-serif;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
outline: none;
border-color: var(--primary);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.form-group textarea {
    resize: vertical;
    min-height: 120px;
    max-height: 600px;
    white-space: pre-wrap;
    overflow-y: auto;
    transition: none;
}

.date-range-container {
display: flex;
gap: 1rem;
}

.date-range-item {
flex: 1;
}

.form-buttons {
margin-top: 2rem;
display: flex;
gap: 1rem;
justify-content: flex-end;
}

.form-buttons button {
padding: 12px 28px;
border: none;
border-radius: 50px;
cursor: pointer;
transition: var(--transition);
font-weight: 600;
font-size: 0.95rem;
}

.form-buttons button[type="submit"] {
background: linear-gradient(135deg, var(--success), #059669);
color: white;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.form-buttons button[type="submit"]:hover {
transform: translateY(-2px);
box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
}

.form-buttons button[type="button"] {
background: white;
color: var(--danger);
border: 2px solid var(--danger);
}

.form-buttons button[type="button"]:hover {
background: var(--danger);
color: white;
}

/* PAGINATION */
.pagination {
display: flex;
justify-content: center;
gap: 8px;
margin: 2rem 0;
flex-wrap: wrap;
}

.page-btn {
padding: 10px 18px;
border: 2px solid var(--primary);
border-radius: 10px;
background: white;
cursor: pointer;
transition: var(--transition);
font-weight: 500;
color: var(--primary);
}

/* PRZYCISKI WSZYSCY/WSZYSTKIE */
.bulk-select-buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.bulk-select-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    font-size: 0.9rem;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 6px;
}

.bulk-select-btn.all-teachers {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
}

.bulk-select-btn.all-classes {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
}

.bulk-select-btn.clear-all {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
}

.bulk-select-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.page-btn.active {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.page-btn:hover:not(.active) {
background: rgba(99, 102, 241, 0.1);
transform: translateY(-2px);
}

.announcement-content {
white-space: pre-line;
line-height: 1.7;
margin: 1rem 0;
color: var(--dark);
}

/* ARCHIVE */
.archive-modal {
max-height: 80vh;
overflow-y: auto;
}

.archive-item {
background: linear-gradient(135deg, #f9fafb, #ffffff);
padding: 1.5rem;
margin-bottom: 1rem;
border-radius: var(--border-radius);
border-left: 5px solid var(--primary);
box-shadow: var(--shadow-sm);
transition: var(--transition);
}

.archive-item:hover {
transform: translateX(4px);
box-shadow: var(--shadow-md);
}

.archive-item h3 {
margin-bottom: 0.75rem;
color: var(--dark);
font-weight: 600;
}

.archive-item p {
color: var(--gray);
font-size: 0.9rem;
margin-bottom: 0.5rem;
}

.archive-item .actions {
margin-top: 1rem;
display: flex;
gap: 8px;
}

.archive-item .actions button {
padding: 8px 16px;
border: none;
border-radius: 8px;
cursor: pointer;
font-size: 0.875rem;
font-weight: 500;
transition: var(--transition);
}

.archive-item .actions .restore {
background: var(--success);
color: white;
}

.archive-item .actions .restore:hover {
background: #059669;
transform: scale(1.05);
}

.archive-item .actions .delete-permanent {
background: var(--danger);
color: white;
}

.archive-item .actions .delete-permanent:hover {
background: #dc2626;
transform: scale(1.05);
}

/* SWITCHER */
.przelacznik {
position: fixed;
top: 15px;
left: 15px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
padding: 15px;
border-radius: 16px;
z-index: 1000;
display: flex;
flex-direction: column;
box-shadow: var(--shadow-lg);
border: 2px solid rgba(99, 102, 241, 0.1);
}

.przelacznik a {
color: var(--dark);
text-decoration: none;
margin-bottom: 8px;
font-family: 'Poppins', sans-serif;
background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
padding: 10px 16px;
border-radius: 10px;
transition: var(--transition);
font-weight: 500;
font-size: 14px;
}

.przelacznik a:last-child {
margin-bottom: 0;
}

.przelacznik a:hover {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
transform: translateX(4px);
}

/* ANIMATIONS */
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

/* VERSION INFO */
.version-info {
position: fixed;
top: 0;
left: 0;
padding: 8px 16px;
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
z-index: 9999;
border-bottom-right-radius: 12px;
font-weight: 600;
font-size: 0.875rem;
box-shadow: var(--shadow-md);
}

/* RESPONSIVE */
@media (max-width: 768px) {
.header h1 {
font-size: 2rem;
}

.search-container {
position: static;
justify-content: center;
margin-top: 1rem;
}

.menu {
flex-direction: column;
}

.menu a {
justify-content: center;
}

.teachers-grid,
.admin-grid {
grid-template-columns: 1fr;
}

.teachers-modern-title {
font-size: 2rem;
}

.homepage-content {
padding: 1.5rem;
}

.homepage-content h1 {
font-size: 1.75rem;
}

.modal-content {
width: 95%;
padding: 1.5rem;
}

.date-range-container {
flex-direction: column;
}

.przelacznik {
top: 10px;
left: 10px;
padding: 10px;
}

.przelacznik a {
padding: 8px 12px;
font-size: 12px;
}

.recipient-type-tabs {
flex-direction: column;
}

.recipient-item {
font-size: 0.8rem;
padding: 6px 10px;
}
}

/* SCROLLBAR */
::-webkit-scrollbar {
width: 10px;
}

::-webkit-scrollbar-track {
background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
background: var(--primary-dark);
}
</style>
</head>
<body>

<div class="przelacznik">
    <a href="https://fillxd.github.io/sz57">Syst</a>
    <a href="https://fillxd.github.io/tm57">TM</a>
    <a href="https://fillxd.github.io/pl57">Plan</a>
    <a href="https://fillxd.github.io/na57">MG</a>
    <a href="https://fillxd.github.io/tk57">D5b</a>
    <a href="https://fillxd.github.io/kl57">T5b</a>
    <a href="https://docs.google.com/spreadsheets/d/18OV9Sar_ENFseGPn8wppwrIeJXm6j4dsa890OTg6Ioo/edit?gid=1302175797#gid=1302175797">ARK</a>
</div>

<div class="version-info">2.0a</div>

<div class="header">
    <h1>Szko≈Ça Podstawowa nr 57 we Wroc≈Çawiu</h1>
    <div class="search-container">
        <a href="#" id="archiveButton">üóëÔ∏è Kosz</a>
    </div>
</div>

<nav>
    <div class="menu">
        <a href="#" class="active" data-category="1">üè† Strona G≈Ç√≥wna</a>
        <a href="#" data-category="5">üì∞ Aktualno≈õci</a>
        <a href="#" data-category="11">üìÑ Dokumenty</a>
        <a href="#" data-category="2">üìÖ Wydarzenia</a>
        <a href="#" data-category="9">üë®‚Äçüè´ Nauczyciele</a>
        <a href="#" data-category="10">üë• Wychowawcy</a>
        <a href="#" data-category="7">üéà Klasy 1-3 i ≈öwietlica</a>
        <a href="#" data-category="6">üéØ SamorzƒÖd i Wolontariat</a>
        <a href="#" data-category="12">üé® Szko≈Ça Artystyczna</a>
        <a href="#" data-category="8">üìö Dla Nauczycieli</a>
        <a href="#" data-category="3">üì¢ Og≈Çoszenia</a>
        <a href="#" data-category="4">‚úâÔ∏è Wiadomo≈õci</a>
    </div>
</nav>

<div class="container">
    <button class="add-button" id="addButton" onclick="handleAddButton()">Dodaj Og≈Çoszenie</button>
    <div id="announcements"></div>
</div>

<!-- Modal dla wiadomo≈õci -->
<div class="modal-overlay" id="messageModal">
    <div class="modal-content">
        <h2 id="messageModalTitle">‚ûï Nowa Wiadomo≈õƒá</h2>
        <form id="messageForm">
            <div class="form-group">
                <label>Wybierz odbiorc√≥w:</label>
                <div class="recipient-type-tabs">
                    <div class="recipient-type-tab active" data-type="teachers" onclick="switchRecipientType('teachers')">
                        üë®‚Äçüè´ Nauczyciele
                    </div>
                    <div class="recipient-type-tab" data-type="classes" onclick="switchRecipientType('classes')">
                        üè´ Klasy
                    </div>
                </div>
                
                <div class="recipient-section active" id="teachersSection">
                    <div class="bulk-select-buttons">
                        <button type="button" class="bulk-select-btn all-teachers" onclick="selectAllTeachers()">
                            ‚úÖ WSZYSCY nauczyciele
                        </button>
                        <button type="button" class="bulk-select-btn clear-all" onclick="deselectAllTeachers()">
                            ‚ùå Wyczy≈õƒá nauczycieli
                        </button>
                    </div>
                    <div class="recipient-selector">
                        <h4>üë®‚Äçüè´ Wybierz nauczycieli:</h4>
                        <div class="recipient-list" id="teachersList"></div>
                    </div>
                    <div class="selected-count" id="teachersCount">Wybrano: 0</div>
                </div>
                
                <div class="recipient-section" id="classesSection">
                    <div class="bulk-select-buttons">
                        <button type="button" class="bulk-select-btn all-classes" onclick="selectAllClasses()">
                            ‚úÖ WSZYSTKIE klasy
                        </button>
                        <button type="button" class="bulk-select-btn clear-all" onclick="deselectAllClasses()">
                            ‚ùå Wyczy≈õƒá klasy
                        </button>
                    </div>
                    <div class="recipient-selector">
                        <h4>üè´ Wybierz klasy:</h4>
                        <div class="recipient-list" id="classesList"></div>
                    </div>
                    <div class="selected-count" id="classesCount">Wybrano: 0</div>
                </div>
            </div>

            <div class="form-group">
                <label for="messageTitle">Tytu≈Ç wiadomo≈õci:</label>
                <input type="text" id="messageTitle" placeholder="Wpisz tytu≈Ç wiadomo≈õci..." required>
            </div>

            <div class="form-group">
                <label for="messageContent">Tre≈õƒá wiadomo≈õci:</label>
                <textarea id="messageContent" rows="6" placeholder="Wpisz tre≈õƒá wiadomo≈õci..." required></textarea>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="closeMessageModal()">Anuluj</button>
                <button type="submit">Wy≈õlij</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla wydarze≈Ñ -->
<div class="modal-overlay" id="eventModal">
    <div class="modal-content">
        <h2 id="eventModalTitle">‚ûï Dodaj Wydarzenie</h2>
        <form id="eventForm">
            <div class="form-group">
                <label for="eventDate">Data:</label>
                <input type="date" id="eventDate" required>
            </div>

            <div class="form-group">
                <label for="eventHours">Godziny (lub "ca≈Çy dzie≈Ñ"):</label>
                <input type="text" id="eventHours" placeholder="np. 8:00-12:00 lub ca≈Çy dzie≈Ñ" required>
            </div>

            <div class="form-group">
                <label for="eventName">Nazwa wydarzenia:</label>
                <input type="text" id="eventName" required>
            </div>

            <div class="form-group">
                <label for="eventCategory">Dzia≈Çanie:</label>
                <select id="eventCategory" required>
                    <option value="">wybierz</option>
                    <option value="zajƒôcia odwo≈Çane - uczniowie zwolnieni do domu.">zajƒôcia odwo≈Çane - uczniowie zwolnieni do domu.</option>
                    <option value="Zajƒôcia zwiƒÖzane z tematem wydarzenia.">zajƒôcia zwiƒÖzane z tematem wydarzenia.</option>
                    <option value="Dzie≈Ñ wolny od zajƒôƒá dydaktyczno-wychowawczych (Dzie≈Ñ Wolny Szko≈Çy)">Dzie≈Ñ wolny od zajƒôƒá dydaktyczno-wychowawczych (Dzie≈Ñ Wolny Szko≈Çy)</option>
                    <option value="brak">Brak</option>
                </select>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('eventModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla og≈Çosze≈Ñ -->
<div class="modal-overlay" id="announcementModal">
    <div class="modal-content">
        <h2 id="announcementModalTitle">‚ûï Dodaj Og≈Çoszenie</h2>
        <form id="announcementForm">
            <div class="form-group">
                <label for="announcementTeacher">Nauczyciel:</label>
                <select id="announcementTeacher" required>
                    <option value="">Wybierz nauczyciela</option>
                </select>
            </div>

            <div class="form-group">
                <label for="announcementTitle">Tytu≈Ç:</label>
                <input type="text" id="announcementTitle" required>
            </div>

            <div class="form-group">
                <label for="announcementContent">Tre≈õƒá:</label>
                <textarea id="announcementContent" rows="4" required></textarea>
            </div>

            <div class="form-group">
                <label>Czas:</label>
                <div class="date-range-container">
                    <div class="date-range-item">
                        <label for="announcementDateFrom">Od:</label>
                        <input type="date" id="announcementDateFrom" required>
                    </div>
                    <div class="date-range-item">
                        <label for="announcementDateTo">Do:</label>
                        <input type="date" id="announcementDateTo" required>
                    </div>
                </div>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('announcementModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla aktualno≈õci -->
<div class="modal-overlay" id="newsModal">
    <div class="modal-content">
        <h2 id="newsModalTitle">‚ûï Dodaj Wpis</h2>
        <form id="newsForm">
            <div class="form-group">
                <label for="newsTitle">Tytu≈Ç wpisu:</label>
                <input type="text" id="newsTitle" required>
            </div>

            <div class="form-group">
                <label for="newsContent">Tre≈õƒá wpisu:</label>
                <textarea id="newsContent" rows="4" required></textarea>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('newsModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla archiwum -->
<div class="modal-overlay" id="archiveModal">
    <div class="modal-content archive-modal">
        <h2>üóëÔ∏è Archiwum</h2>
        <div id="archiveContent"></div>
        <div class="form-buttons">
            <button type="button" onclick="document.getElementById('archiveModal').style.display = 'none'">Zamknij</button>
        </div>
    </div>
</div>

<script>
window.addEventListener("DOMContentLoaded", () => {
  if (localStorage.getItem("isLoggedIn") === "true") {
    document.getElementById("loginOverlay").style.display = "none";
    document.getElementById("content").style.display = "block";
  }
});

const firebaseConfig = {
apiKey: "AIzaSyCFOF0WtZfOSzXFO6gr6kTXwtHlymwGjNU",
authDomain: "szkola57-ccc80.firebaseapp.com",
databaseURL: "https://szkola57-ccc80-default-rtdb.europe-west1.firebasedatabase.app",
projectId: "szkola57-ccc80",
storageBucket: "szkola57-ccc80.appspot.com",
messagingSenderId: "422165475378",
appId: "1:422165475378:web:dc7cd50c37451dd7ec4c2b"
};

const app = firebase.initializeApp(firebaseConfig);
const database = firebase.database();

let currentCategory = 1;
let announcements = {};
let archive = [];
let currentPage = 1;
let editMode = false;
let editIndex = -1;
let selectedTeachers = [];
let selectedClasses = [];
let eventFilters = {
    orange: true,
    green: true,
    red: true,
    white: true
};
const itemsPerPage = 8;

const requiredCategories = [2, 3, 4, 5, 6, 7, 8, 12];

// Lista nauczycieli
  const nauczyciele = [
  "Barbara Bartosiewicz",
      "Renata Skleszewska",
      "Marian Wo≈∫niak",
  "Hanna Brzeska",
  "Anna Brzeska",
  "Anna Burakowska",
  "Katarzyna Buzdro",
  "Sylwia Cze≈õniewicz",
  "Ma≈Çgorzata Domaga≈Ça",
  "Karolina Dominiak",
  "Faustyna Dobrzek",
  "Dariusz Drzema≈Ça",
  "El≈ºbieta Gawin",
  "Mateusz Gig",
  "Irynna Goshevniyk",
  "Pawe≈Ç Grzegorzewski",
  "Anna Grze≈õkowiak",
  "Gra≈ºyna Gruszka",
  "Ignacy Jasi≈Ñski",
  "Magdalena Joelesh",
  "Martyna Ko≈Çodziejczyk",
  "Zuzanna Ko≈õnicka",
  "Sylwia Kozakowska",
  "Marcin Krupnicki",
  "Beata Krzy≈ºewska",
  "Ma≈Çgorzata Lesi≈Ñska",
  "Zofia Lisek",
  "Rozalia Lipska",
  "Joanna Ma≈Çek",
  "Aleksandra Malczyk",
  "Dorota Maszkiewska",
  "Agnieszka Mi≈Çasz",
  "Kinga M≈Çodzik",
  "Karolina M≈Çotek",
  "Daria Musherina",
  "Antonnio Myszkowski",
  "Tadeusz Ostrowski",
  "Ludwik Parkowiak",
  "Antonina Pawelczyk",
  "Micha≈Ç Pietruszewski",
  "Natalia Raczy≈Ñska",
  "Alicja Rajewicz-Drzema≈Ça",
  "Weronika Rogalska",
  "Katarzyna Sieczko",
  "Lena Skwierzy≈Ñska",
  "Ewelina ≈ömigalska",
  "Andrzej Sterowiec",
  "Alicja Stru≈õ-Michalska",
  "Barbara Strzegomska",
  "Bo≈ºena Szpilkiewicz",
  "Zuzanna ≈öwierczek",
  "Micha≈Ç Tarczyn",
  "Barbara Trzaskowska",
  "Celina W≈Çodarczyk",
  "Ignacy W≈Çoszek",
  "Aleksandra Wykaz",
  "Marlena Wyszy≈Ñska",
  "Oliwia ≈ªabkiewicz",
  "Karolina ≈ªukowska",
  "Urszula Z≈Çoci≈Ñska"
];


// Lista klas - TYLKO JEDNA DEKLARACJA!
const klasy = [
"1A", "1B", "1M", "2A", "2B", "2C", "3A", "3B", "3C", 
"4A", "4B", "4C", "5A", "5B", "5C", "6A", "6B", "6M", 
"7A", "7B", "7M", "8A", "8B", "8M",
"TA1", "TA2", "P", "TE", "F"
];

// Inicjalizacja list odbiorc√≥w - POPRAWIONA WERSJA
function initRecipientLists() {
    const teachersList = document.getElementById('teachersList');
    const classesList = document.getElementById('classesList');
    
    if (!teachersList || !classesList) return;
    
    teachersList.innerHTML = '';
    classesList.innerHTML = '';
    
    nauczyciele.forEach(teacher => {
        const div = document.createElement('div');
        div.className = 'recipient-item teacher-item';
        div.dataset.name = teacher;
        div.innerHTML = `<input type="checkbox" value="${teacher}"><span>üë®‚Äçüè´ ${teacher}</span>`;
        div.onclick = () => toggleRecipient(div, teacher, 'teacher');
        teachersList.appendChild(div);
    });
    
    klasy.forEach(klasa => {
        const div = document.createElement('div');
        div.className = 'recipient-item class-item';
        div.dataset.name = klasa;
        div.innerHTML = `<input type="checkbox" value="${klasa}"><span>üè´ ${klasa}</span>`;
        div.onclick = () => toggleRecipient(div, klasa, 'class');
        classesList.appendChild(div);
    });
}

function toggleRecipient(element, value, type) {
    element.classList.toggle('selected');
    const checkbox = element.querySelector('input');
    checkbox.checked = !checkbox.checked;
    
    if (type === 'teacher') {
        if (checkbox.checked) {
            selectedTeachers.push(value);
        } else {
            selectedTeachers = selectedTeachers.filter(t => t !== value);
        }
        document.getElementById('teachersCount').textContent = `Wybrano: ${selectedTeachers.length}`;
    } else {
        if (checkbox.checked) {
            selectedClasses.push(value);
        } else {
            selectedClasses = selectedClasses.filter(c => c !== value);
        }
        document.getElementById('classesCount').textContent = `Wybrano: ${selectedClasses.length}`;
    }
}

function switchRecipientType(type) {
    document.querySelectorAll('.recipient-type-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    document.querySelector(`.recipient-type-tab[data-type="${type}"]`).classList.add('active');
    
    document.querySelectorAll('.recipient-section').forEach(section => {
        section.classList.remove('active');
    });
    document.getElementById(type + 'Section').classList.add('active');
}

function closeMessageModal() {
    document.getElementById('messageModal').style.display = 'none';
    resetMessageForm();
}

function resetMessageForm() {
    document.getElementById('messageForm').reset();
    selectedTeachers = [];
    selectedClasses = [];
    document.querySelectorAll('.recipient-item').forEach(item => {
        item.classList.remove('selected');
        const checkbox = item.querySelector('input');
        if (checkbox) checkbox.checked = false;
    });
    document.getElementById('teachersCount').textContent = 'Wybrano: 0';
    document.getElementById('classesCount').textContent = 'Wybrano: 0';
    document.getElementById('messageModalTitle').textContent = '‚ûï Nowa Wiadomo≈õƒá';
    editMode = false;
    editIndex = -1;
}

// Wype≈Çnienie selecta dla og≈Çosze≈Ñ
document.getElementById('announcementTeacher').innerHTML = '<option value="">Wybierz nauczyciela</option>';
nauczyciele.forEach(teacher => {
    const option = document.createElement('option');
    option.value = teacher;
    option.textContent = teacher;
    document.getElementById('announcementTeacher').appendChild(option);
});

function saveAnnouncements() {
const updates = {
'/announcements': announcements,
'/archive': archive
};
return database.ref().update(updates);
}

function loadAnnouncements(callback) {
const announcementsPromise = new Promise(resolve => {
database.ref('announcements').on('value', snapshot => {
const data = snapshot.val() || {};
requiredCategories.forEach(cat => {
if (!data[cat]) data[cat] = [];
});
announcements = data;
resolve();
});
});

const archivePromise = new Promise(resolve => {
database.ref('archive').on('value', snapshot => {
archive = snapshot.val() || [];
resolve();
});
});

Promise.all([announcementsPromise, archivePromise])
.then(callback)
.catch(error => {
console.error("B≈ÇƒÖd ≈Çadowania danych:", error);
announcements = {};
requiredCategories.forEach(cat => {
announcements[cat] = [];
});
archive = [];
callback();
});
}

document.querySelectorAll('.menu a').forEach(link => {
link.addEventListener('click', (e) => {
e.preventDefault();
currentCategory = parseInt(link.dataset.category);
currentPage = 1;
document.querySelector('.menu a.active').classList.remove('active');
link.classList.add('active');
toggleAddButton();
showAnnouncements();
});
});

document.getElementById('archiveButton').addEventListener('click', (e) => {
e.preventDefault();
showArchive();
});

function showArchive() {
const archiveContent = document.getElementById('archiveContent');
archiveContent.innerHTML = '';

if (archive.length === 0) {
archiveContent.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 2rem;">Archiwum jest puste.</p>';
} else {
archive.forEach((item, index) => {
const archiveItem = document.createElement('div');
archiveItem.className = 'archive-item';

const formatDate = (dateStr) => {
if (!dateStr) return '';
const [year, month, day] = dateStr.split('-');
return `${day.padStart(2, '0')}.${month.padStart(2, '0')}.${year}`;
};

let content = '';
if (item.category === 4) {
    // Wiadomo≈õƒá
    const recipients = [];
    if (item.teachers && item.teachers.length > 0) {
        recipients.push(`Nauczyciele: ${item.teachers.join(', ')}`);
    }
    if (item.classes && item.classes.length > 0) {
        recipients.push(`Klasy: ${item.classes.join(', ')}`);
    }
    const datetime = new Date(item.timestamp).toLocaleString('pl-PL');
    content = `
    <h3>‚úâÔ∏è ${item.title}</h3>
    <p><strong>Do:</strong> ${recipients.join(' | ') || 'Brak odbiorc√≥w'}</p>
    <p><strong>Data:</strong> ${datetime}</p>
    <p>${item.content}</p>
    `;
} else if (item.category === 2) {
content = `
<h3>üìÖ Wydarzenie: ${item.name}</h3>
<p>Data: ${formatDate(item.date)} ${item.hours ? `(${item.hours})` : ''}</p>
<p>Kategoria: ${item.category}</p>
`;
} else if (item.category === 3) {
const from = formatDate(item.dateFrom);
const to = formatDate(item.dateTo);
content = `
<h3>üì¢ Og≈Çoszenie: ${item.teacher} - ${item.title}</h3>
<p>Okres wa≈ºno≈õci: ${from} - ${to}</p>
<p>${item.content}</p>
`;
} else if (item.category === 5) {
content = `
<h3>üì∞ Aktualno≈õƒá: ${item.title}</h3>
<p>${item.content}</p>
`;
} else {
content = `
<h3>${item.title || 'Brak tytu≈Çu'}</h3>
<p>${item.content || 'Brak tre≈õci'}</p>
`;
}

const deletedDate = new Date(item.deletedAt || Date.now());
content += `
<p><small>Usuniƒôte: ${deletedDate.toLocaleString()}</small></p>
<p><small>Kategoria: ${getCategoryName(item.category)}</small></p>
<div class="actions">
<button class="restore" onclick="restoreFromArchive(${index})">‚ôªÔ∏è Przywr√≥ƒá</button>
<button class="delete-permanent" onclick="deleteFromArchive(${index})">üóëÔ∏è Usu≈Ñ na zawsze</button>
</div>
`;

archiveItem.innerHTML = content;
archiveContent.appendChild(archiveItem);
});
}

document.getElementById('archiveModal').style.display = 'flex';
}

function restoreFromArchive(index) {
const item = archive[index];
if (confirm(`Czy na pewno chcesz przywr√≥ciƒá to og≈Çoszenie do kategorii ${getCategoryName(item.category)}?`)) {
announcements[item.category].unshift(item);
archive.splice(index, 1);
saveAnnouncements().then(() => {
showArchive();
showAnnouncements();
});
}
}

function deleteFromArchive(index) {
if (confirm('Czy na pewno chcesz trwale usunƒÖƒá to og≈Çoszenie z archiwum?')) {
archive.splice(index, 1);
saveAnnouncements().then(() => {
showArchive();
});
}
}

function getCategoryName(categoryId) {
const categories = {
1: 'Strona G≈Ç√≥wna',
2: 'Wydarzenia',
3: 'Og≈Çoszenia',
4: 'Wiadomo≈õci',
5: 'Aktualno≈õci',
6: 'SamorzƒÖd Uczniowski i Wolontariat',
7: 'Klasy 1-3 i ≈öwietlica',
8: 'Dla Nauczycieli',
9: 'Grono Pedagogiczne',
10: 'Wychowawcy',
11: 'Dokumenty',
12: 'Szko≈Ça Artystyczna'
};
return categories[categoryId] || 'Nieznana kategoria';
}

function showAnnouncements() {
const container = document.getElementById('announcements');
container.innerHTML = '';

if(currentCategory === 1) {
container.innerHTML = `
<div class="homepage-content">
<h1>‚ú® Witamy na stronie Szko≈Çy Podstawowej nr 57 i Szko≈Çy Artystycznej nr 2 we Wroc≈Çawiu!</h1>
<h2>üé® NOWA SZKO≈ÅA ARTYSTYCZNA NR 2 WE WROC≈ÅAWIU W NASZYM BUDYNKU!</h2>
<p>Zapraszamy do naszej krainy edukacji!</p>

<h3>üìö O Naszej Szkole Podstawowej</h3>
<p>Nasza szko≈Ça to nowoczesna, przyjazna i otwarta plac√≥wka edukacyjna, kt√≥ra oferuje szeroki wachlarz mo≈ºliwo≈õci rozwoju dla ka≈ºdego ucznia. Prowadzimy klasy og√≥lne, sportowe, muzyczne oraz jƒôzykowe ‚Äì tak, aby ka≈ºde dziecko mog≈Ço rozwijaƒá swoje pasje, zdolno≈õci i zainteresowania w odpowiednim dla siebie kierunku. Dysponujemy wykwalifikowanƒÖ i do≈õwiadczonƒÖ kadrƒÖ pedagogicznƒÖ, kt√≥ra z zaanga≈ºowaniem wspiera uczni√≥w w codziennej nauce i wychowaniu. Naszym priorytetem jest tworzenie bezpiecznego, inspirujƒÖcego ≈õrodowiska, w kt√≥rym dzieci mogƒÖ uczyƒá siƒô, rozwijaƒá i budowaƒá trwa≈Çe relacje. Nad ca≈Ço≈õciƒÖ czuwa kompetentna i oddana dyrekcja, dbajƒÖca zar√≥wno o wysoki poziom kszta≈Çcenia, jak i o dobrƒÖ atmosferƒô w szkole. Dziƒôki wsp√≥lnej pracy ca≈Çej spo≈Çeczno≈õci szkolnej, nasza szko≈Ça to miejsce, kt√≥re nie tylko kszta≈Çci, ale r√≥wnie≈º wychowuje i wspiera m≈Çodych ludzi na ka≈ºdym etapie ich rozwoju.</p>

<h3>üé≠ O Patronie Szko≈Çy Podstawowej</h3>
<p>Stanis≈Çaw Moniuszko urodzi≈Ç siƒô 5 maja 1819 roku w Ubielu (dzisiejsza Bia≈Çoru≈õ). By≈Ç jednym z najwybitniejszych polskich kompozytor√≥w XIX wieku, czƒôsto nazywany "ojcem polskiej opery narodowej". Od najm≈Çodszych lat mia≈Ç kontakt z muzykƒÖ ‚Äì pierwsze lekcje gry na fortepianie otrzyma≈Ç od matki. W wieku 18 lat wyjecha≈Ç do Berlina, gdzie studiowa≈Ç kompozycjƒô i teoriƒô muzyki u Carla Rungenhagena. Po powrocie do kraju objƒÖ≈Ç posadƒô organisty w Wilnie i rozpoczƒÖ≈Ç dzia≈Çalno≈õƒá kompozytorskƒÖ oraz organizowa≈Ç koncerty. W tym czasie tworzy≈Ç pie≈õni, muzykƒô ko≈õcielnƒÖ, a tak≈ºe utwory sceniczne. Jego najwiƒôkszƒÖ s≈Çawƒô przynios≈Ça opera ‚ÄûHalka", kt√≥ra mia≈Ça premierƒô w 1848 roku w Wilnie w wersji koncertowej, a pe≈Çne wykonanie sceniczne odby≈Ço siƒô w 1858 roku w Warszawie. Moniuszko doskonale odda≈Ç w niej ducha polskiego spo≈Çecze≈Ñstwa ‚Äì pokaza≈Ç problemy ch≈Çop√≥w i szlachty, wykorzystujƒÖc elementy muzyki ludowej. W 1858 roku zosta≈Ç dyrektorem Teatru Wielkiego w Warszawie, gdzie napisa≈Ç kolejne wa≈ºne opery, m.in. ‚ÄûStraszny dw√≥r", ‚ÄûHrabina" i ‚ÄûParia". Opr√≥cz oper tworzy≈Ç te≈º liczne pie≈õni, zebrane w zbiorach takich jak ‚Äû≈öpiewnik domowy", kt√≥ry do dzi≈õ stanowi skarb polskiej kultury muzycznej. Moniuszko zmar≈Ç nagle 4 czerwca 1872 roku w Warszawie. Zosta≈Ç pochowany na Cmentarzu PowƒÖzkowskim. Jego tw√≥rczo≈õƒá, mocno zakorzeniona w polskim folklorze i tradycji narodowej, do dzi≈õ jest symbolem muzycznego patriotyzmu.</p>

<h3>üé® O Naszej Szkole Artystycznej</h3>
<p>Nasza szko≈Ça popo≈Çudniowa to idealne miejsce dla uczni√≥w, kt√≥rzy chcƒÖ rozwijaƒá swoje pasje artystyczne po lekcjach. Oferujemy zajƒôcia z muzyki, teatru, plastyki i ta≈Ñca, prowadzone przez pe≈Çnych energii i kreatywno≈õci nauczycieli. Zajƒôcia sƒÖ otwarte dla wszystkich ‚Äì niezale≈ºnie od szko≈Çy, do kt√≥rej uczƒôszczasz na co dzie≈Ñ. Wystarczy chƒôƒá tworowania, odrobina pasji i zapis, a resztƒÖ zajmiemy siƒô my! To nie tylko nauka, ale te≈º ≈õwietna atmosfera, wystƒôpy, warsztaty i mo≈ºliwo≈õƒá pokazania swoich talent√≥w szerszej publiczno≈õci.</p>

<h3>‚è∞ Godziny otwarcia:</h3>
<p>üè´ Szko≈Ça: PN-PT 6:30-18:30</p>
<p>üìã Sekretariat: PN-PT 7:30-15:30</p>
<p>üìö Biblioteka (Karolina M≈Çotek): PN(9:50-13:35) WT(8:00-13:35) CZ(12:30-14:30) PT(12:50-15:30)</p>
<p>üß† Psycholog mgr. Aleksandra Wykaz: PN-PT (9:00-14:30)</p>
<p>üí≠ Pedagog mgr. Anna Grze≈õkowiak: WT:8:00-11:30, ≈öR:8:00-10:30 i 13:00-15:30, CZ: 9:00-14:30, PT: 8:00-15:30</p>
</div>`;
return;
}

if(currentCategory === 12) {
container.innerHTML = `
<div class="homepage-content">
<h1 style="text-align: center;">üé® Szko≈Ça Artystyczna nr 2 we Wroc≈Çawiu</h1>
<p>Nasza szko≈Ça popo≈Çudniowa to idealne miejsce dla uczni√≥w, kt√≥rzy chcƒÖ rozwijaƒá swoje pasje artystyczne po lekcjach. Oferujemy zajƒôcia z ta≈Ñca, plastyki, teatru i fotografii, prowadzone przez pe≈Çnych energii i kreatywno≈õci nauczycieli. Zajƒôcia sƒÖ otwarte dla wszystkich ‚Äì niezale≈ºnie od szko≈Çy, do kt√≥rej uczƒôszczasz na co dzie≈Ñ. Wystarczy chƒôƒá tworowania, odrobina pasji i zapis, a resztƒÖ zajmiemy siƒô my! To nie tylko nauka, ale te≈º ≈õwietna atmosfera, wystƒôpy, warsztaty i mo≈ºliwo≈õƒá pokazania swoich talent√≥w szerszej publiczno≈õci.</p>

<h1 style="text-align: center;">üìã KLASY</h1>
<h3>üíÉ TANECZNA - TA1 (14 os.) 7-10 lat</h3>
<h3>üíÉ TANECZNA - TA2 (13 os.) 11-14 lat</h3>
<h3>üé® PLASTYCZNA - P (20 os.) 7-14 lat</h3>
<h3>üé≠ TEATRALNA - TE (14 os.) 7-14 lat</h3>
<h3>üì∑ FOTOGRAFICZNA - F (10 os.) 11-14 lat</h3>

<h1 style="text-align: center;">üë• Nauczyciele</h1>
<h3>üëî Ewa Malinowska (dyrektor)</h3>
<h3>üë©‚Äçüè´ Karolina Sznurowska</h3>
<h3>üë©‚Äçüè´ Agnieszka Burkiewicz</h3>

<a href="PLANSA.pdf" target="_blank">üìÖ PLAN LEKCJI SZKO≈ÅY ARTYSTYCZNEJ</a>
</div>`;

const artContainer = document.getElementById('school-art-announcements') || container;
const categoryAnnouncements = announcements[currentCategory] || [];

if(categoryAnnouncements.length === 0) {
const emptyDiv = document.createElement('div');
emptyDiv.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 2rem;">Brak og≈Çosze≈Ñ.</p>';
artContainer.appendChild(emptyDiv);
} else {
categoryAnnouncements.forEach((ann, index) => {
artContainer.appendChild(createAnnouncementCard(ann, index));
});
}
return;
}

if(currentCategory === 11) {
container.innerHTML = `
<div class="homepage-content">
<h1>üìÑ DOKUMENTY:</h1>
<a href="kalendarz.pdf" target="_blank">üìÖ KALENDARZ ROKU SZKOLNEGO 2025/2026</a>
<a href="SP57_ZajDod.pdf" target="_blank">üìÖ KALENDARZ ZAJƒòƒÜ DODATKOWYCH W ROKU SZKOLNYM (wa≈ºny od 12.01)</a>
<a href="SP57_Kon.pdf" target="_blank">üë®‚Äçüíº TERMINY KONSULTACJI Z NAUCZYCIELAMI 2025/2026 (NIEWA≈ªNE)</a>

<h2>üìã PLANY LEKCJI (od 12.01)</h2>
<a href="plannauc.pdf" target="_blank">üìÑ PLAN LEKCJI II SEMESTR (nauczyciele)</a>
<a href="planklas.pdf" target="_blank">üìÑ PLAN LEKCJI II SEMESTR (klasy)</a>

<h2>üìÖ INNE</h2>
<a href="Sale-57.pdf" target="_blank">üìÑ PODZIA≈Å SAL NA NAUCZYCIELI, KLASY I PRZEDMIOTY</a>
<a href="" target="_blank">.</a>
<a href="PLANSA.pdf" target="_blank">üé® PLAN LEKCJI SZKO≈ÅY ARTYSTYCZNEJ 2025r.</a>

<h2> SKR√ìTY W DZIENNIKU SZKOLNYM:</h2>
<p> Pol - Jƒôzyk Polski </p>
<p> Mat - Matematyka</p>
<p> Ang - Jƒôzyk Angielski</p>
<p> Hisz - Jƒôzyk Hiszpa≈Ñski</p>
<p> Nie - Jƒôzyk Niemiecki</p>
<p> Biol - Biologia</p>
<p> Przy - Przyroda</p>
<p> WF - Wychowanie fizyczne</p>
<p> ZW - Zajƒôcia z wychowawcƒÖ</p>
<p> Plas - Plastyka</p>
<p> Hist - Historia</p>
<p> Muz - Muzyka</p>
<p> NOM - Nauka o Muzyce</p>
<p> Inf - Informatyka</p>
<p> Bas - Basen</p>
<p> Tech - Technika</p>
<p> Geo - Geografia</p>
<p> Che - Chemia</p>
<p> Fiz - Fizyka</p>
<p> KS - Kszta≈Çcenie s≈Çuchu</p>
<p> Tea - Teatr</p>
<p> Tan - Taniec</p>
<p> Ryt - Rytmika</p>
<p> WOS - Wiedza o spo≈Çecze≈Ñstwie</p>
<p> EDB - Edukacja dla bezpiecze≈Ñstwa</p>
<p> EW - Edukacja wczesnoszkolna</p>
<p> EIN - Edukacja Informatyczna</p>
<p> EG - Edukacja Gimnastyczna</p>
<p> ZT - Zajƒôcia terenowe</p>
<p> Rel - Religia</p>
<p> EZ - Edukacja zdrowotna</p>
<p> Ety - Etyka</p>
<p> DZD* - Zajƒôcia dodatkowe (Dziennik Zajƒôƒá Dodatkowych)</p>
<p> WS - Wspomaganie</p>
<p> ≈õw - ≈öwietlica</p>
<p> PP - Praca pedagoga/psychologa</p>
<p> ND - Nauczyciel Dodatkowy</p>
<p> O - Okienko</p>
</div>
`;
return;
}

if(currentCategory === 6) {
container.innerHTML = `
<div class="homepage-content">
<h2>üéØ SamorzƒÖd Uczniowski i Szkolne Ko≈Ço Wolontariatu</h2>
<h4>üë• Opiekun SamorzƒÖdu Ucz. kl.1-3: Anna Brzeska</h4>
<h4>üë• Opiekun SamorzƒÖdu Ucz. kl.4-8: Micha≈Ç Tarczyn</h4>
<h4>‚ù§Ô∏è Opiekun Szkolnego Ko≈Ça Wolontariatu: Micha≈Ç Tarczyn, Zofia Lisek</h4>
<h4>üëë PrzewodniczƒÖca Szko≈Çy: Pola Ruci≈Ñska (7m)</h4>
<h4>üëë PrzewodniczƒÖca klas 1-3: Zuzanna Kami≈Ñska (3a)</h4>
<h4>üëë PrzewodniczƒÖcy klas 4-8: Szymon Zaucha (6b)</h4>

<h3>‚è∞ GODZINA DOSTƒòPNO≈öCI OPIEKUN√ìW SAMORZƒÑDU I KO≈ÅA WOLONTARIATU: piƒÖtek 10:45-12:50</h3>
<h3>üìÖ GODZINA ZEBRANIA UCZESTNIK√ìW SAMORZƒÑDU UCZNIOWSKIEGO: piƒÖtek 12:30-12:50 (przerwa)</h3>
<h3>üìÖ GODZINA ZEBRANIA UCZESTNIK√ìW SZKOLNEGO KO≈ÅA WOLONTARIATU: piƒÖtek 11:30-11:45 (przerwa)</h3>

<h2>üì¢ Og≈Çoszenia SamorzƒÖdu i Wolontariatu:</h2>
</div>`;

const categoryAnnouncements = announcements[currentCategory] || [];
categoryAnnouncements.forEach((ann, index) => {
container.appendChild(createAnnouncementCard(ann, index));
});
return;
}

if(currentCategory === 9) {
container.innerHTML = `
<div class="teachers-modern-container">
<h1 class="teachers-modern-title">
üéì Grono Pedagogiczne 2025/2026
</h1>

<div class="teachers-grid">
<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üìù</div>
<div class="subject-name">Jƒôzyk Polski</div>
</div>
<div class="teachers-list">
Ma≈Çgorzata Lesi≈Ñska, Anna Burakowska, Oliwia ≈ªabkiewicz, El≈ºbieta Gawin, Dorota Maszkiewska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üî¢</div>
<div class="subject-name">Matematyka</div>
</div>
<div class="teachers-list">
Micha≈Ç Tarczyn, Beata Krzy≈ºewska, Joanna Ma≈Çek, Bo≈ºena Szpilkiewicz, Gra≈ºyna Gruszka, Andrzej Sterowiec
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üá¨üáß</div>
<div class="subject-name">Jƒôzyk Angielski</div>
</div>
<div class="teachers-list">
Karolina Dominiak, Zofia Lisek, Marlena Wyszy≈Ñska, Katarzyna Sieczko, Celina W≈Çodarczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üá©üá™</div>
<div class="subject-name">Jƒôzyk Niemiecki</div>
</div>
<div class="teachers-list">
Magdalena Joelesh
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üá™üá∏</div>
<div class="subject-name">Jƒôzyk Hiszpa≈Ñski</div>
</div>
<div class="teachers-list">
Antonnio Myszkowski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">‚öΩ</div>
<div class="subject-name">Wychowanie Fizyczne</div>
</div>
<div class="teachers-list">
Natalia Raczy≈Ñska, Sylwia Cze≈õniewicz, Ma≈Çgorzata Domaga≈Ça, Marcin Krupnicki, Micha≈Ç Pietruszewski, Kinga M≈Çodzik
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üìú</div>
<div class="subject-name">Historia</div>
</div>
<div class="teachers-list">
Pawe≈Ç Grzegorzewski, Karolina ≈ªukowska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üå±</div>
<div class="subject-name">Biologia, Przyroda</div>
</div>
<div class="teachers-list">
Zuzanna ≈öwierczek
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üíº</div>
<div class="subject-name">Doradztwo Zawodowe</div>
</div>
<div class="teachers-list">
Martyna Ko≈Çodziejczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üé®</div>
<div class="subject-name">Plastyka</div>
</div>
<div class="teachers-list">
Barbara Trzaskowska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üîß</div>
<div class="subject-name">Technika</div>
</div>
<div class="teachers-list">
Ludwik Parkowiak
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">‚öóÔ∏è</div>
<div class="subject-name">Chemia</div>
</div>
<div class="teachers-list">
Tadeusz Ostrowski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">‚ö°</div>
<div class="subject-name">Fizyka</div>
</div>
<div class="teachers-list">
Beata Krzy≈ºewska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üèõÔ∏è</div>
<div class="subject-name">Wiedza o Spo≈Çecze≈Ñstwie</div>
</div>
<div class="teachers-list">
Ludwik Parkowiak
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üö®</div>
<div class="subject-name">Edukacja dla Bezpiecze≈Ñstwa</div>
</div>
<div class="teachers-list">
Dariusz Drzema≈Ça
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üåç</div>
<div class="subject-name">Geografia</div>
</div>
<div class="teachers-list">
Mateusz Gig, Andrzej Sterowiec
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üíª</div>
<div class="subject-name">Informatyka</div>
</div>
<div class="teachers-list">
Ewelina ≈ömigalska, Mateusz Gig
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">‚úùÔ∏è</div>
<div class="subject-name">Religia</div>
</div>
<div class="teachers-list">
Ignacy W≈Çoszek
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üéµ</div>
<div class="subject-name">Muzyka</div>
</div>
<div class="teachers-list">
Hanna Brzeska, Antonina Pawelczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üé≠</div>
<div class="subject-name">Teatr</div>
</div>
<div class="teachers-list">
Antonina Pawelczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üíÉ</div>
<div class="subject-name">Taniec</div>
</div>
<div class="teachers-list">
Hanna Brzeska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üéº</div>
<div class="subject-name">Kszta≈Çcenie S≈Çuchu</div>
</div>
<div class="teachers-list">
Antonina Pawelczyk, Hanna Brzeska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üéπ</div>
<div class="subject-name">Nauka o Muzyce</div>
</div>
<div class="teachers-list">
Antonina Pawelczyk, Hanna Brzeska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üë∂</div>
<div class="subject-name">Edukacja Wczesnoszkolna</div>
</div>
<div class="teachers-list">
Weronika Rogalska, Martyna Ko≈Çodziejczyk, Rozalia Lipska, Faustyna Dobrzek, Katarzyna Buzdro, Anna Brzeska, Alicja Rajewicz-Drzema≈Ça, Agnieszka Mi≈Çasz, Daria Musherina
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üèä</div>
<div class="subject-name">Basen</div>
</div>
<div class="teachers-list">
Marcin Krupnicki
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">‚ù§Ô∏è</div>
<div class="subject-name">Edukacja Zdrowotna</div>
</div>
<div class="teachers-list">
Lena Skwierzy≈Ñska, Urszula Z≈Çoci≈Ñska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üèïÔ∏è</div>
<div class="subject-name">Zajƒôcia Terenowe</div>
</div>
<div class="teachers-list">
Sylwia Cze≈õniewicz, Ma≈Çgorzata Domaga≈Ça, Micha≈Ç Pietruszewski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">üéÆ</div>
<div class="subject-name">≈öwietlica</div>
</div>
<div class="teachers-list">
Alicja Stru≈õ-Michalska, Barbara Strzegomska, Urszula Z≈Çoci≈Ñska, Kinga M≈Çodzik, Ma≈Çgorzata Lesi≈Ñska, Alicja Rajewicz-Drzema≈Ça, Aleksandra Malczyk, Martyna Ko≈Çodziejczyk, Anna Brzeska, Zuzanna Ko≈õnicka, Ignacy Jasinski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ü§î</div>
<div class="subject-name">Etyka</div>
</div>
<div class="teachers-list">
El≈ºbieta Gawin
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ü§ù</div>
<div class="subject-name">Nauczyciel WspomagajƒÖcy</div>
</div>
<div class="teachers-list">
Sylwia Kozakowska, Aleksandra Malczyk, Dariusz Drzema≈Ça, Irynna Goshevniyk, Zuzanna Ko≈õnicka
</div>
</div>
</div>

<div class="admin-section">
<h2>üè´ Administracja i Szko≈Ça Artystyczna</h2>
<div class="admin-grid">
<div class="admin-card">
<div class="admin-position">üß† Pedagog</div>
<div class="admin-name">Anna Grze≈õkowiak</div>
</div>
<div class="admin-card">
<div class="admin-position">üí≠ Psycholog</div>
<div class="admin-name">Aleksandra Wykaz</div>
</div>
<div class="admin-card">
<div class="admin-position">üìö Biblioteka</div>
<div class="admin-name">Karolina M≈Çotek</div>
</div>
<div class="admin-card">
<div class="admin-position">üëî Dyrektor SP 57</div>
<div class="admin-name">Aleksander Bia≈Çko</div>
</div>
<div class="admin-card">
<div class="admin-position">üëî Wicedyrektor (kl. 1-3)</div>
<div class="admin-name">Lena Skwierzy≈Ñska</div>
</div>
<div class="admin-card">
<div class="admin-position">üëî Wicedyrektor (kl. 4-8)</div>
<div class="admin-name">Mateusz Gig</div>
</div>
<div class="admin-card">
<div class="admin-position">üëî Administracja prac porzƒÖdkowych</div>
<div class="admin-name">Barbara Bartosiewicz</div>
</div>
<div class="admin-card">
<div class="admin-position">üé≠ Dyrektor SA 2</div>
<div class="admin-name">Ewa Malinowska</div>
</div>
<div class="admin-card">
<div class="admin-position">üíÉ Taniec (SA)</div>
<div class="admin-name">Agnieszka Burkiewicz</div>
</div>
<div class="admin-card">
<div class="admin-position">ü§∏ Gimnastyka (SA)</div>
<div class="admin-name">Ewa Malinowska</div>
</div>
<div class="admin-card">
<div class="admin-position">üé® Plastyka i Fotografia (SA)</div>
<div class="admin-name">Karolina Sznurkowska</div>
</div>
<div class="admin-card">
<div class="admin-position">üé≠ Teatr (SA)</div>
<div class="admin-name">Agnieszka Burkiewicz</div>
</div>
<div class="admin-card">
<div class="admin-position">‚úÇÔ∏è Obr√≥bka (SA)</div>
<div class="admin-name">Ewa Malinowska</div>
</div>
</div>
</div>
</div>
`;
return;
}

if(currentCategory === 10) {
container.innerHTML = `
<h2 style="text-align: center; color: white; font-size: 2.5rem; margin-bottom: 2rem; text-shadow: 2px 4px 8px rgba(0,0,0,0.3);">
üë• LISTA KLAS, WYCHOWAWC√ìW I NAUCZYCIELI WSPOMAGAJƒÑCYCH NA ROK SZKOLNY 2025/2026
</h2>

<table class="tutors-table">
<thead>
<tr>
<th>Klasa</th>
<th>Nazwa klasy</th>
<th>Wychowawca</th>
<th>Nauczyciel WspomagajƒÖcy</th>
</tr>
</thead>
<tbody>
<tr><td>1A</td><td>Og√≥lna</td><td>Weronika Rogalska</td><td>Sylwia Kozakowska</td></tr>
<tr><td>1B</td><td>Jƒôzykowa</td><td>Katarzyna Buzdro</td><td></td></tr>
<tr><td>1M</td><td>Muzyczna</td><td>Anna Brzeska</td><td></td></tr>
<tr><td>2A</td><td>Og√≥lna</td><td>Martyna Ko≈Çodziejczyk</td><td></td></tr>
<tr><td>2B</td><td>Og√≥lna</td><td>Rozalia Lipska</td><td></td></tr>
<tr><td>2C</td><td>Og√≥lna</td><td>Faustyna Dobrzek</td><td></td></tr>
<tr><td>3A</td><td>Og√≥lna</td><td>Alicja Rajewicz-Drzema≈Ça</td><td></td></tr>
<tr><td>3B</td><td>Og√≥lna</td><td>Agnieszka Mi≈Çasz</td><td></td></tr>
<tr><td>3C</td><td>Jƒôzykowa</td><td>Daria Musherina</td><td>Irynna Goshevniyk</td></tr>
<tr><td>4A</td><td>Sportowa</td><td>Marcin Krupnicki</td><td></td></tr>
<tr><td>4B</td><td>Og√≥lna</td><td>Ma≈Çgorzata Lesi≈Ñska</td><td></td></tr>
<tr><td>4C</td><td>Og√≥lna</td><td>Karolina Dominiak</td><td></td></tr>
<tr><td>5A</td><td>Sportowa</td><td>Oliwia ≈ªabkiewicz</td><td></td></tr>
<tr><td>5B</td><td>Og√≥lna</td><td>Mateusz Gig</td><td></td></tr>
<tr><td>5C</td><td>Artystyczna</td><td>Natalia Raczy≈Ñska</td><td>Aleksandra Malczyk</td></tr>
<tr><td>6A</td><td>Og√≥lna</td><td>Katarzyna Sieczko</td><td></td></tr>
<tr><td>6B</td><td>Og√≥lna</td><td>Dorota Maszkiewicz</td><td></td></tr>
<tr><td>6M</td><td>Muzyczna</td><td>Antonina Pawelczyk</td><td></td></tr>
<tr><td>7A</td><td>Og√≥lna</td><td>Anna Burakowska</td><td></td></tr>
<tr><td>7B</td><td>Og√≥lna</td><td>Kinga M≈Çodzik</td><td></td></tr>
<tr><td>7M</td><td>Muzyczna</td><td>Ma≈Çgorzata Domaga≈Ça</td><td>Dariusz Drzema≈Ça</td></tr>
<tr><td>8A</td><td>Og√≥lna</td><td>Celina W≈Çodarczyk</td><td>Zuzanna Ko≈õnicka</td></tr>
<tr><td>8B</td><td>Og√≥lna</td><td>Magdalena Joelesh</td><td></td></tr>
<tr><td>8M</td><td>Muzyczna</td><td>Ewelina ≈ömigalska</td><td></td></tr>
</tbody>
</table>`;
return;
}

// FILTROWANIE DLA WYDARZE≈É (kategoria 2)
if(currentCategory === 2) {
    const filtersDiv = document.createElement('div');
    filtersDiv.className = 'filters-container';
    filtersDiv.innerHTML = `
        <h3>üîç Filtruj wydarzenia wed≈Çug dzia≈Çania:</h3>
        <div class="filter-options">
            <div class="filter-option filter-orange">
                <input type="checkbox" id="filter-orange" ${eventFilters.orange ? 'checked' : ''}>
                <label for="filter-orange">üü† Zajƒôcia odwo≈Çane - uczniowie zwolnieni</label>
            </div>
            <div class="filter-option filter-green">
                <input type="checkbox" id="filter-green" ${eventFilters.green ? 'checked' : ''}>
                <label for="filter-green">üü¢ Zajƒôcia zwiƒÖzane z tematem</label>
            </div>
            <div class="filter-option filter-red">
                <input type="checkbox" id="filter-red" ${eventFilters.red ? 'checked' : ''}>
                <label for="filter-red">üî¥ Dzie≈Ñ wolny od zajƒôƒá</label>
            </div>
            <div class="filter-option filter-white">
                <input type="checkbox" id="filter-white" ${eventFilters.white ? 'checked' : ''}>
                <label for="filter-white">‚ö™ Brak</label>
            </div>
        </div>
    `;
    container.appendChild(filtersDiv);

    setTimeout(() => {
        document.getElementById('filter-orange').addEventListener('change', (e) => {
            eventFilters.orange = e.target.checked;
            showAnnouncements();
        });
        document.getElementById('filter-green').addEventListener('change', (e) => {
            eventFilters.green = e.target.checked;
            showAnnouncements();
        });
        document.getElementById('filter-red').addEventListener('change', (e) => {
            eventFilters.red = e.target.checked;
            showAnnouncements();
        });
        document.getElementById('filter-white').addEventListener('change', (e) => {
            eventFilters.white = e.target.checked;
            showAnnouncements();
        });
    }, 0);

    const allEvents = announcements[currentCategory] || [];
    const filteredEvents = allEvents.filter(event => {
        if (event.category === 'zajƒôcia odwo≈Çane - uczniowie zwolnieni do domu.') {
            return eventFilters.orange;
        } else if (event.category === 'Zajƒôcia zwiƒÖzane z tematem wydarzenia.') {
            return eventFilters.green;
        } else if (event.category === 'Dzie≈Ñ wolny od zajƒôƒá dydaktyczno-wychowawczych (Dzie≈Ñ Wolny Szko≈Çy)') {
            return eventFilters.red;
        } else if (event.category === 'brak') {
            return eventFilters.white;
        }
        return true;
    });

    if(filteredEvents.length === 0) {
        const emptyDiv = document.createElement('div');
        emptyDiv.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak wydarze≈Ñ spe≈ÇniajƒÖcych wybrane kryteria.</p>';
        container.appendChild(emptyDiv);
    } else {
        filteredEvents.forEach((ann, originalIndex) => {
            const actualIndex = allEvents.indexOf(ann);
            container.appendChild(createAnnouncementCard(ann, actualIndex));
        });
    }
    return;
}

// KATEGORIA 4 - WIADOMO≈öCI (NOWA!)
if(currentCategory === 4) {
    const categoryMessages = announcements[currentCategory] || [];
    
    if(categoryMessages.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak wiadomo≈õci.</p>';
    } else {
        categoryMessages.forEach((msg, index) => {
            container.appendChild(createMessageCard(msg, index));
        });
    }
    return;
}

if(currentCategory === 5) {
const allAnnouncements = announcements[currentCategory] || [];
const startIndex = (currentPage - 1) * itemsPerPage;
const endIndex = startIndex + itemsPerPage;
const pagedAnnouncements = allAnnouncements.slice(startIndex, endIndex);

if(pagedAnnouncements.length === 0) {
container.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak aktualno≈õci.</p>';
} else {
pagedAnnouncements.forEach((ann, index) => {
container.appendChild(createAnnouncementCard(ann, startIndex + index));
});
}

const totalPages = Math.ceil(allAnnouncements.length / itemsPerPage);
if(totalPages > 1) {
const pagination = document.createElement('div');
pagination.className = 'pagination';

for(let i = 1; i <= totalPages; i++) {
const pageBtn = document.createElement('button');
pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
pageBtn.textContent = i;
pageBtn.onclick = () => {
currentPage = i;
showAnnouncements();
};
pagination.appendChild(pageBtn);
}
container.appendChild(pagination);
}
} else {
const categoryAnnouncements = announcements[currentCategory] || [];
if(categoryAnnouncements.length === 0) {
container.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak og≈Çosze≈Ñ.</p>';
} else {
categoryAnnouncements.forEach((ann, index) => {
container.appendChild(createAnnouncementCard(ann, index));
});
}
}
}

// FUNKCJA TWORZENIA KARTY WIADOMO≈öCI
function createMessageCard(msg, index) {
    const div = document.createElement('div');
    div.className = 'announcement-card';
    div.style.borderLeftColor = '#ec4899';
    
    const date = new Date(msg.timestamp);
    const formattedDate = date.toLocaleDateString('pl-PL', { day: '2-digit', month: '2-digit', year: 'numeric' });
    const formattedTime = date.toLocaleTimeString('pl-PL', { hour: '2-digit', minute: '2-digit' });
    
    let recipientTags = '';
    if (msg.teachers && msg.teachers.length > 0) {
        msg.teachers.forEach(t => {
            recipientTags += `<span style="background: linear-gradient(135deg, #6366f1, #4f46e5); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; margin: 2px; display: inline-block;">üë§ ${t}</span>`;
        });
    }
    if (msg.classes && msg.classes.length > 0) {
        msg.classes.forEach(c => {
            recipientTags += `<span style="background: linear-gradient(135deg, #ec4899, #db2777); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; margin: 2px; display: inline-block;">üéì ${c}</span>`;
        });
    }
    
    div.innerHTML = `
        <div class="actions">
            <span class="delete" onclick="deleteAnnouncement(${index})">üóëÔ∏è</span>
            <span class="edit" onclick="editMessage(${index})">‚úèÔ∏è</span>
            <span class="move" onclick="moveAnnouncement(${index}, 'up')">‚¨ÜÔ∏è</span>
            <span class="move" onclick="moveAnnouncement(${index}, 'down')">‚¨áÔ∏è</span>
        </div>
        <h2>‚úâÔ∏è ${msg.title || 'Brak tytu≈Çu'}</h2>
        <div style="margin: 1rem 0; display: flex; flex-wrap: wrap; gap: 4px;">
            ${recipientTags || '<span style="color: var(--gray);">Brak odbiorc√≥w</span>'}
        </div>
        <div class="announcement-content">${msg.content || 'Brak tre≈õci'}</div>
        <div style="margin-top: 1rem; color: var(--gray); font-size: 0.875rem; display: flex; align-items: center; gap: 12px;">
            <span style="background: rgba(99, 102, 241, 0.1); padding: 4px 10px; border-radius: 6px; color: var(--primary); font-weight: 500;">üìÖ ${formattedDate}</span>
            <span>üïê ${formattedTime}</span>
        </div>
    `;
    return div;
}

function createAnnouncementCard(ann, index) {
const div = document.createElement('div');
div.className = 'announcement-card';

if (currentCategory === 2) {
    if (ann.category === 'zajƒôcia odwo≈Çane - uczniowie zwolnieni do domu.') {
        div.style.backgroundColor = '#ff9800';
        div.style.color = 'white';
    } else if (ann.category === 'Zajƒôcia zwiƒÖzane z tematem wydarzenia.') {
        div.style.backgroundColor = '#4caf50';
        div.style.color = 'white';
    } else if (ann.category === 'Dzie≈Ñ wolny od zajƒôƒá dydaktyczno-wychowawczych (Dzie≈Ñ Wolny Szko≈Çy)') {
        div.style.backgroundColor = '#f44336';
        div.style.color = 'white';
    } else if (ann.category === 'brak') {
        div.style.backgroundColor = 'white';
    }
}

const formatDate = (dateStr) => {
    if (!dateStr) return '';
    const [year, month, day] = dateStr.split('-');
    return `${day.padStart(2, '0')}.${month.padStart(2, '0')}`;
};

let dateRange = '';
if(ann.dateFrom && ann.dateTo) {
const from = formatDate(ann.dateFrom);
const to = formatDate(ann.dateTo);
dateRange = from === to ? from : `${from} - ${to}`;
}

div.innerHTML = `
<div class="actions">
<span class="delete" onclick="deleteAnnouncement(${index})">üóëÔ∏è</span>
<span class="edit" onclick="editAnnouncement(${index})">‚úèÔ∏è</span>
<span class="move" onclick="moveAnnouncement(${index}, 'up')">‚¨ÜÔ∏è</span>
<span class="move" onclick="moveAnnouncement(${index}, 'down')">‚¨áÔ∏è</span>
</div>
${currentCategory === 2 ? `
<h2>üìÖ ${formatDate(ann.date)}${ann.hours && ann.hours !== 'ca≈Çy dzie≈Ñ' ? ` (${ann.hours})` : ''}</h2>
<p><strong>${ann.name || 'Brak nazwy'}</strong></p>
<p>Kategoria: ${ann.category || 'Brak kategorii'}</p>
` : currentCategory === 3 ? `
<h2>üì¢ ${ann.teacher || 'Brak nauczyciela'}: ${ann.title || 'Brak tytu≈Çu'} (${dateRange})</h2>
<div class="announcement-content">${ann.content || 'Brak tre≈õci'}</div>
<span class="time">${timeAgo(ann.timestamp)}</span>
` : [5,6,7,8,12].includes(currentCategory) ? `
<h2>${ann.title || 'Brak tytu≈Çu'}</h2>
<div class="announcement-content">${ann.content || 'Brak tre≈õci'}</div>
<span class="time">${timeAgo(ann.timestamp)}</span>
` : `
<h2>${ann.title || 'Brak tytu≈Çu'}</h2>
<div class="announcement-content">${ann.content || 'Brak tre≈õci'}</div>
<span class="time">${timeAgo(ann.timestamp)}</span>
`}
`;
return div;
}

function deleteAnnouncement(index) {
if(confirm('Czy na pewno chcesz przenie≈õƒá ten wpis do archiwum?')) {
const deletedItem = announcements[currentCategory][index];
deletedItem.category = currentCategory;
deletedItem.deletedAt = Date.now();

archive.unshift(deletedItem);
announcements[currentCategory].splice(index, 1);

saveAnnouncements()
.then(() => {
showAnnouncements();
})
.catch(error => {
console.error("B≈ÇƒÖd podczas zapisywania:", error);
alert("WystƒÖpi≈Ç b≈ÇƒÖd podczas przenoszenia do archiwum.");
});
}
}

function editAnnouncement(index) {
    editMode = true;
    editIndex = index;
    
    if (currentCategory === 2) {
        const event = announcements[currentCategory][index];
        document.getElementById('eventModalTitle').textContent = '‚úèÔ∏è Edytuj Wydarzenie';
        document.getElementById('eventDate').value = event.date;
        document.getElementById('eventHours').value = event.hours || 'ca≈Çy dzie≈Ñ';
        document.getElementById('eventName').value = event.name;
        document.getElementById('eventCategory').value = event.category;
        document.getElementById('eventModal').style.display = 'flex';
        
    } else if (currentCategory === 3) {
        const announcement = announcements[currentCategory][index];
        document.getElementById('announcementModalTitle').textContent = '‚úèÔ∏è Edytuj Og≈Çoszenie';
        document.getElementById('announcementTeacher').value = announcement.teacher;
        document.getElementById('announcementTitle').value = announcement.title;
        document.getElementById('announcementContent').value = announcement.content;
        document.getElementById('announcementDateFrom').value = announcement.dateFrom;
        document.getElementById('announcementDateTo').value = announcement.dateTo;
        document.getElementById('announcementModal').style.display = 'flex';
        
    } else if ([5,6,7,8,12].includes(currentCategory)) {
        const item = announcements[currentCategory][index];
        document.getElementById('newsModalTitle').textContent = '‚úèÔ∏è Edytuj Wpis';
        document.getElementById('newsTitle').value = item.title;
        document.getElementById('newsContent').value = item.content;
        document.getElementById('newsModal').style.display = 'flex';
    }
}

// EDYCJA WIADOMO≈öCI - POPRAWIONA
function editMessage(index) {
    editMode = true;
    editIndex = index;
    
    const msg = announcements[currentCategory][index];
    
    initRecipientLists();
    
    document.getElementById('messageModalTitle').textContent = '‚úèÔ∏è Edytuj Wiadomo≈õƒá';
    document.getElementById('messageTitle').value = msg.title || '';
    document.getElementById('messageContent').value = msg.content || '';
    
    selectedTeachers = msg.teachers || [];
    selectedClasses = msg.classes || [];
    
    setTimeout(() => {
        document.querySelectorAll('#teachersList .recipient-item').forEach(item => {
            const teacherName = item.querySelector('input').value;
            if (selectedTeachers.includes(teacherName)) {
                item.classList.add('selected');
                item.querySelector('input').checked = true;
            }
        });
        
        document.querySelectorAll('#classesList .recipient-item').forEach(item => {
            const className = item.querySelector('input').value;
            if (selectedClasses.includes(className)) {
                item.classList.add('selected');
                item.querySelector('input').checked = true;
            }
        });
        
        document.getElementById('teachersCount').textContent = `Wybrano: ${selectedTeachers.length}`;
        document.getElementById('classesCount').textContent = `Wybrano: ${selectedClasses.length}`;
    }, 100);
    
    document.getElementById('messageModal').style.display = 'flex';
}

function moveAnnouncement(index, direction) {
if (!announcements[currentCategory]) {
console.error("Brak og≈Çosze≈Ñ dla tej kategorii");
return;
}

const arr = announcements[currentCategory];

if (direction === 'up' && index > 0) {
[arr[index], arr[index - 1]] = [arr[index - 1], arr[index]];
} else if (direction === 'down' && index < arr.length - 1) {
[arr[index], arr[index + 1]] = [arr[index + 1], arr[index]];
} else {
return;
}

saveAnnouncements()
.then(() => showAnnouncements())
.catch(error => {
console.error("B≈ÇƒÖd zapisu:", error);
alert("B≈ÇƒÖd podczas przesuwania og≈Çoszenia");
});
}

function timeAgo(timestamp) {
if (!timestamp) return 'brak daty';
const now = Date.now();
const diff = now - timestamp;

const seconds = Math.floor(diff / 1000);
const minutes = Math.floor(seconds / 60);
const hours = Math.floor(minutes / 60);
const days = Math.floor(hours / 24);

if (days > 0) return `${days} dni temu`;
if (hours > 0) return `${hours} godz. temu`;
if (minutes > 0) return `${minutes} min. temu`;
return `${seconds} sek. temu`;
}

function toggleAddButton() {
const btn = document.getElementById('addButton');
btn.style.display = [1, 9, 10, 11].includes(currentCategory) ? 'none' : 'block';
btn.textContent = currentCategory === 4 ? 'Nowa Wiadomo≈õƒá' : 
currentCategory === 2 ? 'Dodaj Wydarzenie' : 
currentCategory === 3 ? 'Dodaj Og≈Çoszenie' : 
currentCategory === 5 ? 'Dodaj Aktualno≈õƒá' :
currentCategory === 6 ? 'Dodaj Og≈Çoszenie SU' :
currentCategory === 7 ? 'Dodaj Og≈Çoszenie' :
currentCategory === 8 ? 'Dodaj Og≈Çoszenie' :
currentCategory === 12 ? 'Dodaj Og≈Çoszenie' :
'Dodaj Og≈Çoszenie';
}

// USUNIƒòTE DUPLIKATY - NIE MA TU JU≈ª POWT√ìRNEJ DEKLARACJI klasy, selectedTeachers, selectedClasses

document.addEventListener('DOMContentLoaded', () => {
loadAnnouncements(() => {
showAnnouncements();
toggleAddButton();
initRecipientLists(); // DODANE - inicjalizacja list przy ≈Çadowaniu
});
});

document.getElementById('eventForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const eventData = {
        date: document.getElementById('eventDate').value,
        hours: document.getElementById('eventHours').value,
        name: document.getElementById('eventName').value,
        category: document.getElementById('eventCategory').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (!eventData.date || !eventData.hours || !eventData.name || !eventData.category) {
        alert('Proszƒô wype≈Çniƒá wszystkie pola!');
        return;
    }

    if (editMode) {
        announcements[currentCategory][editIndex] = eventData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(eventData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('eventModal').style.display = 'none';
            document.getElementById('eventModalTitle').textContent = '‚ûï Dodaj Wydarzenie';
            this.reset();
        });
});

document.getElementById('announcementForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const announcementData = {
        teacher: document.getElementById('announcementTeacher').value,
        title: document.getElementById('announcementTitle').value,
        content: document.getElementById('announcementContent').value,
        dateFrom: document.getElementById('announcementDateFrom').value,
        dateTo: document.getElementById('announcementDateTo').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (editMode) {
        announcements[currentCategory][editIndex] = announcementData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(announcementData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('announcementModal').style.display = 'none';
            this.reset();
        });
});

document.getElementById('newsForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const newsData = {
        title: document.getElementById('newsTitle').value,
        content: document.getElementById('newsContent').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (editMode) {
        announcements[currentCategory][editIndex] = newsData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(newsData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('newsModal').style.display = 'none';
            this.reset();
        });
});

// OBS≈ÅUGA FORMULARZA WIADOMO≈öCI
document.getElementById('messageForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (selectedTeachers.length === 0 && selectedClasses.length === 0) {
        alert('Wybierz przynajmniej jednego odbiorcƒô!');
        return;
    }
    
    const messageData = {
        title: document.getElementById('messageTitle').value,
        content: document.getElementById('messageContent').value,
        teachers: [...selectedTeachers],
        classes: [...selectedClasses],
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };
    
    if (!messageData.title || !messageData.content) {
        alert('Wype≈Çnij tytu≈Ç i tre≈õƒá!');
        return;
    }
    
    if (editMode) {
        announcements[currentCategory][editIndex] = messageData;
        editMode = false;
        editIndex = -1;
    } else {
        if (!announcements[currentCategory]) {
            announcements[currentCategory] = [];
        }
        announcements[currentCategory].unshift(messageData);
    }
    
    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            closeMessageModal();
        });
});

function handleAddButton() {
if (currentCategory === 4) {
    initRecipientLists();
    resetMessageForm();
    document.getElementById('messageModalTitle').textContent = '‚ûï Nowa Wiadomo≈õƒá';
    document.getElementById('messageModal').style.display = 'flex';
} else if (currentCategory === 2) {
    addEvent();
} else if (currentCategory === 3) {
    addAnnouncement();
} else if ([5,6,7,8,12].includes(currentCategory)) {
    addNews();
}
}

function addEvent() {
    editMode = false;
    editIndex = -1;
    document.getElementById('eventForm').reset();
    document.getElementById('eventModalTitle').textContent = '‚ûï Dodaj Wydarzenie';
    document.getElementById('eventModal').style.display = 'flex';
}

function addAnnouncement() {
    editMode = false;
    editIndex = -1;
    document.getElementById('announcementForm').reset();
    document.getElementById('announcementModalTitle').textContent = '‚ûï Dodaj Og≈Çoszenie';
    document.getElementById('announcementModal').style.display = 'flex';
}

function addNews() {
    editMode = false;
    editIndex = -1;
    document.getElementById('newsForm').reset();
    document.getElementById('newsModalTitle').textContent = '‚ûï Dodaj Wpis';
    document.getElementById('newsModal').style.display = 'flex';
}

// FUNKCJE DO MASOWEGO WYBIERANIA
function selectAllTeachers() {
    selectedTeachers = [...nauczyciele];
    
    document.querySelectorAll('#teachersList .recipient-item').forEach(item => {
        item.classList.add('selected');
        const checkbox = item.querySelector('input');
        if (checkbox) checkbox.checked = true;
    });
    
    document.getElementById('teachersCount').textContent = `Wybrano: ${selectedTeachers.length}`;
}

function deselectAllTeachers() {
    selectedTeachers = [];
    
    document.querySelectorAll('#teachersList .recipient-item').forEach(item => {
        item.classList.remove('selected');
        const checkbox = item.querySelector('input');
        if (checkbox) checkbox.checked = false;
    });
    
    document.getElementById('teachersCount').textContent = 'Wybrano: 0';
}

function selectAllClasses() {
    selectedClasses = [...klasy];
    
    document.querySelectorAll('#classesList .recipient-item').forEach(item => {
        item.classList.add('selected');
        const checkbox = item.querySelector('input');
        if (checkbox) checkbox.checked = true;
    });
    
    document.getElementById('classesCount').textContent = `Wybrano: ${selectedClasses.length}`;
}

function deselectAllClasses() {
    selectedClasses = [];
    
    document.querySelectorAll('#classesList .recipient-item').forEach(item => {
        item.classList.remove('selected');
        const checkbox = item.querySelector('input');
        if (checkbox) checkbox.checked = false;
    });
    
    document.getElementById('classesCount').textContent = 'Wybrano: 0';
}

// OPTYMALNIE: Dodaj te≈º przycisk do wyboru wszystkich z danej sekcji
function selectAllInCurrentSection() {
    const activeTab = document.querySelector('.recipient-type-tab.active');
    if (!activeTab) return;
    
    const type = activeTab.dataset.type;
    
    if (type === 'teachers') {
        selectAllTeachers();
    } else if (type === 'classes') {
        selectAllClasses();
    }
}

function getCategoryName(categoryId) {
const categories = {
1: 'Strona G≈Ç√≥wna',
2: 'Wydarzenia',
3: 'Og≈Çoszenia',
4: 'Wiadomo≈õci',
5: 'Aktualno≈õci',
6: 'SamorzƒÖd Uczniowski i Wolontariat',
7: 'Klasy 1-3 i ≈öwietlica',
8: 'Dla Nauczycieli',
9: 'Grono Pedagogiczne',
10: 'Wychowawcy',
11: 'Dokumenty',
12: 'Szko≈Ça Artystyczna'
};
return categories[categoryId] || 'Nieznana kategoria';
}


</script>
</body>
</html>





