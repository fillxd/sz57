<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Ogłoszenia</title>
</head>
<body>
    <h1>Dodaj ogłoszenie</h1>
    <input type="text" id="announcement" placeholder="Wpisz ogłoszenie">
    <button onclick="addAnnouncement()">Dodaj</button>

    <h2>Lista ogłoszeń</h2>
    <ul id="list"></ul>

    <script>
        function addAnnouncement() {
            const text = document.getElementById("announcement").value;
            if (!text) return;

            fetch("save.php", {
                method: "POST",
                body: JSON.stringify({ text }),
                headers: { "Content-Type": "application/json" }
            }).then(() => {
                document.getElementById("announcement").value = "";
                loadAnnouncements();
            });
        }

        function loadAnnouncements() {
            fetch("get.php")
                .then(response => response.json())
                .then(data => {
                    const list = document.getElementById("list");
                    list.innerHTML = "";
                    data.forEach(item => {
                        const li = document.createElement("li");
                        li.textContent = item.text;
                        list.appendChild(li);
                    });
                });
        }

        loadAnnouncements();
    </script>
</body>
</html>
