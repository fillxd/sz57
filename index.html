<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sz57</title>
	<link rel="icon" type="image/x-icon" href="favicon.png">
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .tekst {
            white-space: pre-line;
            font-size: 18px;
        }
        body {
            background-color: #f0f2f5;
        }
        .header {
            text-align: center;
            padding: 3rem 1rem;
            background: linear-gradient(135deg, #4a90e2, #34495e);
            color: white;
            position: relative;
            overflow: hidden;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            animation: titleSlide 1s ease-out;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        @keyframes titleSlide {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .header::after {
            content: '';
            position: absolute;
            bottom: -50px;
            left: -50px;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(45deg);
            animation: shine 4s infinite;
        }
        @keyframes shine {
            0% { left: -50px; }
            100% { left: 110%; }
        }
        .search-container {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        .search-container a {
            color: white;
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            white-space: nowrap;
        }
        .search-container a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        nav {
            background: linear-gradient(135deg, #4a90e2, #34495e);
            padding: 1rem;
            position: sticky;
            top: 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        .menu {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .menu a {
            color: white;
            text-decoration: none;
            padding: 0.8rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            white-space: nowrap;
            flex: 1 1 20%;
            text-align: center;
            justify-content: center;
        }
        .menu a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        .menu a.active {
            background-color: #e74c3c;
        }
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        .announcement-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.5s ease;
            position: relative;
        }
        .announcement-card h2 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        .announcement-card p {
            color: #34495e;
            line-height: 1.6;
        }
        .announcement-card .time {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-top: 1rem;
            display: block;
        }
        .announcement-card .actions {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
        }
        .announcement-card .actions span {
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s ease;
        }
        .announcement-card .actions span:hover {
            transform: scale(1.1);
        }
        .announcement-card .actions .delete {
            color: #e74c3c;
        }
        .announcement-card .actions .edit {
            color: #3498db;
        }
        .announcement-card .actions .move {
            color: #2ecc71;
        }
        .homepage-content {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            line-height: 1.8;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .su-info {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            font-size: 0.95rem;
            color: #34495e;
        }
        .su-info h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        .teachers-table, .tutors-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .teachers-table th, .teachers-table td,
        .tutors-table th, .tutors-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #f0f2f5;
        }
        .teachers-table th, .tutors-table th {
            background-color: #4a90e2;
            color: white;
        }
        .teachers-table tr:hover, .tutors-table tr:hover {
            background-color: #f9f9f9;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .add-button {
            background: #27ae60;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }
        .add-button:hover {
            background: #219a52;
            transform: scale(1.05);
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
        }
        .form-group {
            margin-bottom: 1rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        .date-range-container {
            display: flex;
            gap: 1rem;
        }
        .date-range-item {
            flex: 1;
        }
        .form-buttons {
            margin-top: 1.5rem;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }
        .form-buttons button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .form-buttons button[type="submit"] {
            background: #27ae60;
            color: white;
        }
        .form-buttons button[type="button"] {
            background: #e74c3c;
            color: white;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Szkoła Podstawowa nr 57 we Wrocławiu</h1>
    </div>

    <nav>
        <div class="menu">
            <a href="#" class="active" data-category="1">Strona Główna</a>
	    <a href="#" data-category="5">Aktualności</a>
            <a href="#" data-category="11">Ważne Informacje</a>
            <a href="#" data-category="2">Wydarzenia</a>
            <a href="#" data-category="9">Grono Pedagogiczne</a>
            <a href="#" data-category="10">Wychowawcy</a>
            <a href="#" data-category="7">Klasy 1-3 i Świetlica</a>
            <a href="#" data-category="6">Samorząd Uczniowski i Wolontariat</a>
            <a href="#" data-category="8">Dla Nauczycieli</a>
            <a href="#" data-category="3">Ogłoszenia</a>
            <a href="#" data-category="4">Nieobecności</a>
        </div>
    </nav>

    <div class="container">
        <button class="add-button" id="addButton" onclick="handleAddButton()">Dodaj Ogłoszenie</button>
        <div id="announcements"></div>
    </div>

    <!-- Modal dla nieobecności -->
    <div class="modal-overlay" id="absenceModal">
        <div class="modal-content">
            <form id="absenceForm">
                <div class="form-group">
                    <label>Okres nieobecności:</label>
                    <div class="date-range-container">
                        <div class="date-range-item">
                            <label for="absenceDateFrom">Od:</label>
                            <input type="date" id="absenceDateFrom" required>
                        </div>
                        <div class="date-range-item">
                            <label for="absenceDateTo">Do:</label>
                            <input type="date" id="absenceDateTo" required>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="absenceHours">Godziny (lub "cały dzień"):</label>
                    <input type="text" id="absenceHours" placeholder="np. 8:00-12:00 lub cały dzień" required>
                </div>

                <div class="form-group">
                    <label for="absenceTeacher">Nauczyciel:</label>
                    <select id="absenceTeacher" required>
                        <option value="">Wybierz nauczyciela</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="absenceReason">Powód:</label>
                    <select id="absenceReason" required>
                        <option value="">brak</option>
                        <option value="Choroba">Choroba</option>
                        <option value="Zwolnienie Lekarskie">Zwolnienie Lekarskie</option>
                        <option value="Szkolenie">Szkolenie</option>
                        <option value="Długotrwała Choroba">Długotrwała Choroba</option>
                        <option value="Rada/Konsultacje">Rada/Konsultacje</option>
                        <option value="Sprawy szkolne">Sprawy szkolne</option>
                        <option value="Sprawy prywatne">Sprawy prywatne</option>
                        <option value="Urlop Płatny">Urlop Płatny</option>
                        <option value="Urlop Bezpłatny">Urlop Bezpłatny</option>
                        <option value="Wycieczka">Wycieczka</option>
                    </select>
                </div>

                <div class="form-buttons">
                    <button type="button" onclick="document.getElementById('absenceModal').style.display = 'none'">Anuluj</button>
                    <button type="submit">Zapisz</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal dla wydarzeń -->
    <div class="modal-overlay" id="eventModal">
        <div class="modal-content">
            <form id="eventForm">
                <div class="form-group">
                    <label for="eventDate">Data:</label>
                    <input type="date" id="eventDate" required>
                </div>
                
                <div class="form-group">
                    <label for="eventHours">Godziny (lub "cały dzień"):</label>
                    <input type="text" id="eventHours" placeholder="np. 8:00-12:00 lub cały dzień" required>
                </div>

                <div class="form-group">
                    <label for="eventName">Nazwa wydarzenia:</label>
                    <input type="text" id="eventName" required>
                </div>

                <div class="form-group">
                    <label for="eventCategory">Działanie:</label>
                    <select id="eventCategory" required>
                        <option value="">brak</option>
                        <option value="zajęcia odwołane.">zajęcia odwołane.</option>
                        <option value="Zajęcia związane z tematem wydarzenia.">Zajęcia związane z tematem wydarzenia.</option>
                        <option value="Dzień wolny od zajęć dydaktyczno-wychowawczych">Dzień wolny od zajęć dydaktyczno-wychowawczych</option>
                    </select>
                </div>

                <div class="form-buttons">
                    <button type="button" onclick="document.getElementById('eventModal').style.display = 'none'">Anuluj</button>
                    <button type="submit">Zapisz</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // KONFIGURACJA FIREBASE
        const firebaseConfig = {
            apiKey: "AIzaSyCFOF0WtZfOSzXFO6gr6kTXwtHlymwGjNU",
            authDomain: "szkola57-ccc80.firebaseapp.com",
            databaseURL: "https://szkola57-ccc80-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "szkola57-ccc80",
            storageBucket: "szkola57-ccc80.firebasestorage.app",
            messagingSenderId: "422165475378",
            appId: "1:422165475378:web:dc7cd50c37451dd7ec4c2b"
        };
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        let currentCategory = 1;
        let announcements = {};
        
        const requiredCategories = [2, 3, 4, 5, 6, 7, 8];

        function saveAnnouncements() {
            database.ref('announcements').set(announcements);
        }

        function loadAnnouncements(callback) {
            database.ref('announcements').on('value', (snapshot) => {
                const data = snapshot.val() || {};
                requiredCategories.forEach(cat => {
                    if (!data[cat]) data[cat] = [];
                });
                announcements = data;
                callback();
            });
        }

        const nauczyciele = [
            "Jolanta Bosak", "Katarzyna Borzędzin", "Hanna Brzeska", "Anna Brzeska", "Barbara Brzóska",
            "Anna Burakowska", "Sylwia Cześniewicz", "Karol Dębowicz", "Faustyna Dobrzek", "Karolina Dominiak",
            "Małgorzata Domagała", "Dariusz Drzemała", "Alicja Rajewicz-Drzemała", "Elżbieta Gawin", "Mateusz Gigołła",
            "Anna Gocał", "Irynna Goshevniyk", "Grażyna Gruszka", "Paweł Grzegorzewski", "Anna Grześkowiak", "Renata Halczyk", "Danuta Kapciuszko", "Zuzanna Kośnicka", "Marcin Krupnicki", "Jowita Kuter", "Martyna Kołodziejczyk",
            "Rozalia Lipska", "Zofia Lisek", "Kinga Młodzik", "Karolina Młotek", "Agnieszka Miłasz", "Daria Musherina",
            "Joanna Małek", "Dorota Maszkiewska", "Magdalena Joelesh", "Eugenia Nowodworska", "Tadeusz Ostrowski",
            "Antonina Pawelczyk", "Ludwik Parkowiak", "Natalia Raczyńska", "Weronika Rogalska", "Renata Skleszewska",
            "Lena Skwierzyńska", "Katarzyna Sieczko", "Bożena Szpilkiewicz", "Barbara Strzegomska", "Alicja Struś-Michalska",
            "Michał Tarczyn", "Barbara Trzaskowska", "Ewelina Śmigalska", "ks. Ignacy Włoszek", "Celina Włodarczyk",
            "Aleksandra Wykaz", "Michalina Woźniak", "Marian Woźniak", "Magdalena Wisłowicz", "Marlena Wyszyńska", "Urszula Złocińska",
            "Oliwia Żabkiewicz"
        ];

        const teacherSelect = document.getElementById('absenceTeacher');
        nauczyciele.forEach(teacher => {
            const option = document.createElement('option');
            option.value = teacher;
            option.textContent = teacher;
            teacherSelect.appendChild(option);
        });

        document.querySelectorAll('.menu a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                currentCategory = parseInt(link.dataset.category);
                document.querySelector('.menu a.active').classList.remove('active');
                link.classList.add('active');
                toggleAddButton();
                showAnnouncements();
            });
        });

        function showAnnouncements() {
            const container = document.getElementById('announcements');
            container.innerHTML = '';
            
            if(currentCategory === 1) {
                container.innerHTML = `
                    <div class="homepage-content">
                        <h2>Witamy w Szkole Podstawowej nr 57 we Wrocławiu!</h2>
                        <p>Witamy na stronie najlepszej szkoły w Polsce!<br>
                        Zapraszamy do naszej krainy edukacji! <br>
                        Email: fillzster@gmail.com</p>
                        
                        <h3>O naszej szkole</h3>
                        <p>Jesteśmy szkołą której niczego nie brakuje! Klasy ogólne, sportowe, muzyczne, a nawet językowe! Posiadamy wykwalifikowaną kadrę i cudowną dyrekcję!</p>
                        
                        <h3>Godziny otwarcia</h3>
                        <p>Szkoła: Pon-Pt: 7:00-17:00<br>
						<p>Sekretariat: Pon-Pt: 7:50-15:50<br>
                `;
                return;
            }

            if(currentCategory === 11) {
                container.innerHTML = `
                    <div class="homepage-content">
                        <h1>Szkolne Ważne Dokumenty</h1>
                        <h2>Egzaminy i diagnozy w najbliższym tygodniu.</h2>
                       <div class="tekst">
                       Egzaminy Próbne - Arkusze testowe, kl.8 (24.03-26.03)
oraz
DIAGNOZY Przygotowujące, kl. 3 (25.03)

PONIEDZIAŁEK (24.03)
kl. 8a: Matematyka, Michał Tarczyn (7:40-9:45)
kl. 8b: Język Angielski, Zofia Lisek (7:55-9:45)
kl. 8m: Język Polski, Anna Burakowska (8:05-10:35)

WTOREK (25.03)
kl. 3a: Ogólny, Katarzyna Buzdro (9:00-11:00)
kl. 3b: Ogólny, Anna Brzeska (8:30-10:30)
kl. 3c: Ogólny, Danuta Kapciuszko (10:45-12:45)
kl. 8a: Język Angielski, Karolina Dominiak (7:55-9:45)
kl. 8b: Język Polski, Oliwia Żabkiewicz (8:05-10:35)
kl. 8m:  Matematyka, Joanna Małek (8:50-10:45)

ŚRODA (26.03)
kl. 8a: Język Polski, Dorota Maszkiewska (7:10-9:40)
kl. 8b: Matematyka, Michał Tarczyn (7:40-9:45)
kl. 8m: Język Angielski, Celina Włodarczyk (8:00-9:50) </div>

<h2> Szkolne Badania Predyspozycji Dodatkowych </h2>
<div class="tekst">
Szkolne Badania Predyspozycji Dodatkowych (SBPD)
  Wraz z dniem 24.03.2025 r. rusza akcja “Szkolne Badania Predyspozycji Dodatkowych” na terenie Szkoły Podstawowej nr 57 we Wrocławiu dla klas 4-8. 
  Szkolne Badania Predyspozycji Dodatkowych, to pomysł, który podjęła i zaakceptowała dyrekcja Szkoły, po konsultacjach na ten temat na radach pedagogicznych oraz rozmowach z rodzicami uczniów. Akcja ma na celu sprawdzenie umiejętności naszych uczniów, których (być może) nie pokazują. Spróbujemy znaleźć uczniów, którzy są najwyżej w danej kategorii, a następnie zaproponujemy dalsze kroki związane z pasją/umiejętnościami.
*wyniki z badań będą dostępne tylko i wyłącznie dla nauczycieli danej kategorii oraz dla dyrekcji Szkoły Podstawowej nr 57 we Wrocławiu* (czas na wykonanie badań 24-28.03.2025).

Wychowanie Fizyczne [3 kategorie] Udział 4-8 🤸
         aa - Bieg 5x wokół Szkolnego Boiska (badanie na zewnątrz), liczy się; czas przebiegnięcia; technika biegu. *nauczyciel WF-u wykonuje badanie i liczy czas (po kolei) oraz ocenia technikę biegu ucznia*
         ab - Skok w dal (badanie na zewnątrz), liczy się: technika skoku; długość od wyskoku. *nauczyciel WF-u wykonuje badanie i liczy długość od wyskoku do lądowania (po kolei) oraz ocenia technikę skoku ucznia*
         ac - Mecz siatkówki (badanie wewnątrz), liczy się; technika odbijania piłki; serwowanie. *nauczyciel WF-u wykonuje badania i ocenia technikę odbijania piłki (podczas gry) oraz technikę i wydajność serwowania ucznia*

Język Angielski [1 kategoria] Udział 4-8
         bb - Oglądanie/Słuchanie ze zrozumieniem; nauczyciel Języka Angielskiego włącza 20 minutowy film, przesłany na maila, a następnie rozdaje prace przesłane na maila i włącza minutnik (20 minut). Uczniowie mają pytania do obejrzanego filmu, liczą się odpowiedzi prawidłowe i nieprawidłowe (pytania i odpowiedzi są po polsku). 

Informatyka [1 kategoria] Udział 4-8
         cc - Programowanie, uczniowie mają dostęp do wszelkich źródeł (bez SI), aby stworzyć własną stronę internetową w formacie HTML (czas 40 minut). *nauczyciel Informatyki ocenia technikę kodowania, wydajność kodowania oraz szybkość i dokładność wykonanej pracy*, nauczyciel może zapytać o technikę kodowania, uczeń ma obowiązek odpowiedzieć. 

Prowadzenie Zajęć [1 kategoria] Udział 6-8
        dd - Uczeń dostaje kartkę z 20-ma pytaniami dotyczącymi pedagogiki szkolnej (problemy z uczniami, rozwiązania, pytania). Pisze odpowiedzi, w zależności od tego, co zrobiłby uczeń w danej sytuacji. Uczniowie z najlepszymi wynikami, zostaną zaproszeni na prowadzenie lekcji w klasach pierwszych, a następnie podejmiemy dalsze kroki.
Dokument podpisany przez dyrektora SP 57.
</div>
                `;
                return;
            }

            if(currentCategory === 6) {
                container.innerHTML = `
                    <div class="su-info">
                        <h3>Samorząd Uczniowski 1-3</h3>
                        <p>Opiekun Samorządu 1-3: Anna Brzeska<br>
                        Godzina Dostępności: Poniedziałek 13:45-14:30<br>
                        <h3>Samorząd Uczniowski 4-8</h3>
                        <p>Opiekun Samorządu i Wolontariatu: Michał Tarczyn<br>
                        Przewodnicząca Szkoły: Olga Siwiec<br>
                        Godzina Dostępności: Środa 11:35-13:35<br>
                        Zebranie Samorządu Uczniowskiego: Środa 12:30-12:50</p>
                        <p></p>
                        <img src="https://raw.githubusercontent.com/fillxd/sz57/a1a7657b33999bc4c120299d3d9ef2f8001960ca/Samorz%C4%85d%20Uczniowski.png" alt="Samorząd" width="500">
                    </div>
                `;
            }

            if(currentCategory === 9) {
                container.innerHTML = `
                    <table class="teachers-table">
                        <thead>
                            <tr>
                                <th>Przedmiot</th>
                                <th>Nauczyciele</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Język Polski</td><td>Oliwia Żabkiewicz, Anna Burakowska, Dorota Maszkiewska, Jowita Kuter, Elżbieta Gawin</td></tr>
                            <tr><td>Matematyka</td><td>Bożena Szpilkiewicz, Renata Skleszewska, Joanna Małek, Michał Tarczyn, Tadeusz Ostrowski, Grażyna Gruszka</td></tr>
                            <tr><td>Język Angielski</td><td>Katarzyna Sieczko, Zofia Lisek, Celina Włodarczyk, Anna Gocał, Karolina Dominiak, Magdalena Wisłowicz, Marlena Wyszyńska</td></tr>
                            <tr><td>Język Niemiecki</td><td>Magdalena Joelesh, Barbara Strzegomska</td></tr>
                            <tr><td>Wychowanie Fizyczne</td><td>Małgorzata Domagała, Sylwia Cześniewicz, Mateusz Gigołła, Kinga Młodzik, Natalia Raczyńska, Marcin Krupnicki</td></tr>
                            <tr><td>Historia</td><td>Paweł Grzegorzewski, Karol Dębowicz</td></tr>
                            <tr><td>Biologia, Przyroda</td><td>Michalina Woźniak</td></tr>
                            <tr><td>doradztwo zawodowe</td><td>Martyna Kołodziejczyk</td></tr>
                            <tr><td>Plastyka</td><td>Barbara Trzaskowska</td></tr>
                            <tr><td>Technika</td><td>Ludwik Parkowiak</td></tr>
                            <tr><td>Chemia</td><td>Tadeusz Ostrowski</td></tr>
                            <tr><td>Fizyka</td><td>Marian Woźniak</td></tr>
                            <tr><td>Wiedza o społeczeństwie</td><td>Ludwik Parkowiak</td></tr>
                            <tr><td>Edukacja dla bezpieczeństwa</td><td>Dariusz Drzemała</td></tr>
                            <tr><td>Geografia</td><td>Mateusz Gigołła</td></tr>
                            <tr><td>Informatyka</td><td>Ewelina Śmigalska</td></tr>
                            <tr><td>Muzyka</td><td>Hanna Brzeska, Magdalena Joelesh, Antonina Pawelczyk</td></tr>
                            <tr><td>Religia</td><td>ks. Ignacy Włoszek, Eugenia Nowodworska</td></tr>
                            <tr><td>Kształcenie Słuchu, Nauka o Muzyce</td><td>Antonina Pawelczyk</td></tr>
                            <tr><td>Edukacja Wczesnoszkolna</td><td>Rozalia Lipska, Faustyna Dobrzek, Daria Musherina, Anna Brzeska, Agnieszka Miłasz, Danuta Kapciuszko, Katarzyna Buzdro, Jolanta Bosak, Alicja Rajewicz-Drzemała, Weronika Rogalska</td></tr>
                            <tr><td>Basen</td><td>Małgorzata Domagała, Kinga Młodzik</td></tr>
                            <tr><td>Trening Zewnętrzny</td><td>Małgorzata Domagała, Rozalia Lipska, Faustyna Dobrzek</td></tr>
                            <tr><td>Świetlica</td><td>Alicja Struś-Michalska, Zuzanna Kośnicka, Katarzyna Borzędzin, Barbara Strzegomska, Anna Brzeska, Elżbieta Gawin, Daria Musherina, Ignacy Włoszek, Urszula Złocińska, Barbara Brzóska, Martyna Kołodziejczyk, Mateusz Gigołła, Anna Gocał</td></tr>
                            <tr><td>Etyka</td><td>Renata Halczyk</td></tr>
			    <tr><td>Nauczyciel Wspomagający</td><td>Aleksandra Malczyk, Dariusz Drzemała, Irynna Goshevniyk, Zuzanna Kośnicka, Marcin Krupnicki</td></tr>
                            <tr><td>Pedagog</td><td>Aleksandra Wykaz, Anna Grześkowiak</td></tr>
                            <tr><td>Biblioteka</td><td>Karolina Młotek</td></tr>
                            <tr><td>Dyrekcja</td><td>Lena Skwierzyńska (1-3), Mateusz Gigołła (4-8)</td></tr>
                            <tr><td>Kierownik</td><td>Katarzyna Borzędzin, Renata Halczyk</td></tr>
                        </tbody>
                    </table>
                `;
                return;
            }

            if(currentCategory === 10) {
                container.innerHTML = `
                    <table class="tutors-table">
                        <thead>
                            <tr>
                                <th>Klasa</th>
                                <th>Wychowawca</th>
				<th>Wspomagający</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>1a</td><td>Jolanta Bosak</td></tr>
                            <tr><td>1b</td><td>Rozalia Lipska</td></tr>
                            <tr><td>1c</td><td>Faustyna Dobrzek</td></tr>
                            <tr><td>2a</td><td>Alicja Rajewicz-Drzemała</td></tr>
                            <tr><td>2b</td><td>Agnieszka Miłasz</td></tr>
                            <tr><td>2c</td><td>Daria Musherina</td><td>Irynna Goshevniyk</td></tr>
                            <tr><td>3a</td><td>Katarzyna Buzdro</td></tr>
                            <tr><td>3b</td><td>Anna Brzeska</td></tr>
                            <tr><td>3c</td><td>Danuta Kapciuszko</td></tr>
                            <tr><td>4a</td><td>Renata Skleszewska</td></tr>
                            <tr><td>4b</td><td>Mateusz Gigołła</td></tr>
                            <tr><td>4c</td><td>Natalia Raczyńska</td><td>Marcin Krupnicki</td></tr>
                            <tr><td>5a</td><td>Katarzyna Sieczko</td></tr>
                            <tr><td>5b</td><td>Dorota Maszkiewska</td></tr>
                            <tr><td>5m</td><td>Antonina Pawelczyk</td></tr>
                            <tr><td>6a</td><td>Bożena Szpilkiewicz</td></tr>
                            <tr><td>6b</td><td>Kinga Młodzik</td></tr>
                            <tr><td>6m</td><td>Małgorzata Domagała</td>>td>Dariusz Drzemała</td></tr>
                            <tr><td>7a</td><td>Celina Włodarczyk</td><td>Zuzanna Kośnicka</td></tr>
                            <tr><td>7b</td><td>Magdalena Joelesh</td></tr>
                            <tr><td>7m</td><td>Ewelina Śmigalska</td></tr>
                            <tr><td>8a</td><td>Karol Dębowicz</td><td>Aleksandra Malczyk</td></tr>
                            <tr><td>8b</td><td>Michał Tarczyn</td></tr>
                            <tr><td>8m</td><td>Ludwik Parkowiak</td></tr>
                        </tbody>
                    </table>
                `;
                return;
            }

            announcements[currentCategory].forEach((ann, index) => {
                container.appendChild(createAnnouncementCard(ann, index));
            });
        }

        function createAnnouncementCard(ann, index) {
            const div = document.createElement('div');
            div.className = 'announcement-card';
            
            const formatDate = (dateStr) => {
                const [year, month, day] = dateStr.split('-');
                return `${day.padStart(2, '0')}.${month.padStart(2, '0')}`;
            };

            let dateRange = '';
            if(ann.dateFrom && ann.dateTo) {
                const from = formatDate(ann.dateFrom);
                const to = formatDate(ann.dateTo);
                dateRange = from === to ? from : `${from}-${to}`;
            }
            
            div.innerHTML = `
                <div class="actions">
                    <span class="delete" onclick="deleteAnnouncement(${index})">🗑️</span>
                    <span class="edit" onclick="editAnnouncement(${index})">✏️</span>
                    <span class="move" onclick="moveAnnouncement(${index}, 'up')">⬆️</span>
                    <span class="move" onclick="moveAnnouncement(${index}, 'down')">⬇️</span>
                </div>
                ${currentCategory === 4 ? `
                    <h2>${dateRange}${ann.hours && ann.hours !== 'cały dzień' ? ` (${ann.hours})` : ''}</h2>
                    <p><strong>${ann.teacher}</strong></p>
                    <p>${ann.reason}</p>
                ` : currentCategory === 2 ? `
                    <h2>${formatDate(ann.date)}${ann.hours && ann.hours !== 'cały dzień' ? ` (${ann.hours})` : ''}</h2>
                    <p><strong>${ann.name}</strong></p>
                    <p>Kategoria: ${ann.category}</p>
                ` : `
                    <h2>${ann.title}</h2>
                    <p>${ann.content}</p>
                    <span class="time">${timeAgo(ann.timestamp)}</span>
                `}
            `;
            return div;
        }

        function addAnnouncement() {
            const title = prompt('Podaj tytuł ogłoszenia:');
            if (!title) return;
            
            const content = prompt('Podaj treść ogłoszenia:');
            if (!content) return;

            const newAnn = {
                title,
                content,
                timestamp: new Date().getTime()
            };

            announcements[currentCategory].unshift(newAnn);
            saveAnnouncements();
            showAnnouncements();
        }

        function addAbsence() {
            document.getElementById('absenceModal').style.display = 'flex';
        }

        function addEvent() {
            document.getElementById('eventModal').style.display = 'flex';
        }

        document.getElementById('absenceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newAbsence = {
                dateFrom: document.getElementById('absenceDateFrom').value,
                dateTo: document.getElementById('absenceDateTo').value,
                hours: document.getElementById('absenceHours').value,
                teacher: document.getElementById('absenceTeacher').value,
                reason: document.getElementById('absenceReason').value,
                timestamp: new Date().getTime()
            };

            if (!newAbsence.dateFrom || !newAbsence.dateTo || !newAbsence.hours || !newAbsence.teacher || !newAbsence.reason) {
                alert('Proszę wypełnić wszystkie pola!');
                return;
            }

            announcements[currentCategory].unshift(newAbsence);
            saveAnnouncements();
            showAnnouncements();
            document.getElementById('absenceModal').style.display = 'none';
            this.reset();
        });

        document.getElementById('eventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newEvent = {
                date: document.getElementById('eventDate').value,
                hours: document.getElementById('eventHours').value,
                name: document.getElementById('eventName').value,
                category: document.getElementById('eventCategory').value,
                timestamp: new Date().getTime()
            };

            if (!newEvent.date || !newEvent.hours || !newEvent.name || !newEvent.category) {
                alert('Proszę wypełnić wszystkie pola!');
                return;
            }

            announcements[currentCategory].unshift(newEvent);
            saveAnnouncements();
            showAnnouncements();
            document.getElementById('eventModal').style.display = 'none';
            this.reset();
        });

        function handleAddButton() {
            if (currentCategory === 4) {
                addAbsence();
            } else if (currentCategory === 2) {
                addEvent();
            } else {
                addAnnouncement();
            }
        }

        function deleteAnnouncement(index) {
            if(confirm('Czy na pewno chcesz usunąć ten wpis?')) {
                announcements[currentCategory].splice(index, 1);
                saveAnnouncements();
                showAnnouncements();
            }
        }

        function editAnnouncement(index) {
            if (currentCategory === 4) {
                const absence = announcements[currentCategory][index];
                const newDateFrom = prompt('Edytuj datę początkową (RRRR-MM-DD):', absence.dateFrom);
                if (!newDateFrom) return;

                const newDateTo = prompt('Edytuj datę końcową (RRRR-MM-DD):', absence.dateTo);
                if (!newDateTo) return;

                const newHours = prompt('Edytuj godziny:', absence.hours || 'cały dzień');
                if (!newHours) return;

                const newTeacher = prompt('Edytuj nauczyciela:', absence.teacher);
                if (!newTeacher) return;

                const newReason = prompt('Edytuj powód:', absence.reason);
                if (!newReason) return;

                absence.dateFrom = newDateFrom;
                absence.dateTo = newDateTo;
                absence.hours = newHours === 'cały dzień' ? null : newHours;
                absence.teacher = newTeacher;
                absence.reason = newReason;
            } else if (currentCategory === 2) {
                const event = announcements[currentCategory][index];
                const newDate = prompt('Edytuj datę:', event.date);
                if (!newDate) return;

                const newHours = prompt('Edytuj godziny:', event.hours || 'cały dzień');
                if (!newHours) return;

                const newName = prompt('Edytuj nazwę wydarzenia:', event.name);
                if (!newName) return;

                const newCategory = prompt('Edytuj kategorię:', event.category);
                if (!newCategory) return;

                event.date = newDate;
                event.hours = newHours === 'cały dzień' ? null : newHours;
                event.name = newName;
                event.category = newCategory;
            } else {
                const newTitle = prompt('Edytuj tytuł:', announcements[currentCategory][index].title);
                if (!newTitle) return;

                const newContent = prompt('Edytuj treść:', announcements[currentCategory][index].content);
                if (!newContent) return;

                announcements[currentCategory][index].title = newTitle;
                announcements[currentCategory][index].content = newContent;
            }

            saveAnnouncements();
            showAnnouncements();
        }

        function moveAnnouncement(index, direction) {
            const arr = announcements[currentCategory];
            if(direction === 'up' && index > 0) {
                [arr[index], arr[index - 1]] = [arr[index - 1], arr[index]];
            } else if(direction === 'down' && index < arr.length - 1) {
                [arr[index], arr[index + 1]] = [arr[index + 1], arr[index]];
            }
            saveAnnouncements();
            showAnnouncements();
        }

        function timeAgo(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            
            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);

            if (days > 0) return `${days} dni temu`;
            if (hours > 0) return `${hours} godz. temu`;
            if (minutes > 0) return `${minutes} min. temu`;
            return `${seconds} sek. temu`;
        }

        function toggleAddButton() {
            const btn = document.getElementById('addButton');
            btn.style.display = [1, 9, 10, 11].includes(currentCategory) ? 'none' : 'block';
            btn.textContent = currentCategory === 4 ? 'Dodaj Nieobecność' : 
                             currentCategory === 2 ? 'Dodaj Wydarzenie' : 
                             'Dodaj Ogłoszenie';
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadAnnouncements(() => {
                showAnnouncements();
                toggleAddButton();
            });
        });
    </script>
</body>
</html>
