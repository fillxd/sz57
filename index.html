<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SP 57</title> 
<link rel="icon" type="image/x-icon" href="favicon.png"> 
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Poppins', sans-serif;
}

:root {
--primary: #6366f1;
--primary-dark: #4f46e5;
--secondary: #ec4899;
--success: #10b981;
--danger: #ef4444;
--warning: #f59e0b;
--dark: #1f2937;
--light: #f9fafb;
--gray: #6b7280;
--border-radius: 16px;
--shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
--shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
--shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

body {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
background-attachment: fixed;
min-height: 100vh;
}

body::before {
content: '';
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.05" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,144C960,149,1056,139,1152,122.7C1248,107,1344,85,1392,74.7L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') repeat-x bottom;
pointer-events: none;
}

.tekst {
white-space: pre-line;
font-size: 16px;
line-height: 1.8;
color: var(--dark);
}

/* HEADER */
.header {
text-align: center;
padding: 4rem 2rem;
background: linear-gradient(135deg, rgba(99, 102, 241, 0.95), rgba(139, 92, 246, 0.95));
color: white;
position: relative;
overflow: hidden;
backdrop-filter: blur(10px);
box-shadow: var(--shadow-lg);
}

.header::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
background-size: 50px 50px;
animation: moveBackground 20s linear infinite;
}

@keyframes moveBackground {
0% { transform: translate(0, 0); }
100% { transform: translate(50px, 50px); }
}

.header h1 {
font-size: 3rem;
font-weight: 700;
margin-bottom: 0.5rem;
animation: fadeInDown 0.8s ease-out;
text-shadow: 2px 4px 8px rgba(0, 0, 0, 0.2);
position: relative;
z-index: 1;
}

@keyframes fadeInDown {
from { transform: translateY(-30px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.search-container {
position: absolute;
top: 25px;
right: 25px;
display: flex;
gap: 12px;
z-index: 10;
}

.search-container a {
color: white;
text-decoration: none;
padding: 12px 24px;
border-radius: 50px;
transition: var(--transition);
background: rgba(255, 255, 255, 0.15);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.2);
display: flex;
align-items: center;
font-weight: 500;
font-size: 14px;
}

.search-container a:hover {
background: rgba(255, 255, 255, 0.25);
transform: translateY(-2px);
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

/* NAVIGATION */
nav {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
padding: 1.5rem;
position: sticky;
top: 0;
box-shadow: var(--shadow-md);
z-index: 100;
border-bottom: 3px solid var(--primary);
}

.menu {
display: flex;
flex-wrap: wrap;
gap: 12px;
max-width: 1400px;
margin: 0 auto;
justify-content: center;
}

.menu a {
color: var(--dark);
text-decoration: none;
padding: 12px 24px;
border-radius: 50px;
transition: var(--transition);
background: white;
border: 2px solid transparent;
display: flex;
align-items: center;
white-space: nowrap;
font-weight: 500;
font-size: 14px;
position: relative;
overflow: hidden;
}

.menu a::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
transition: left 0.5s;
}

.menu a:hover::before {
left: 100%;
}

.menu a:hover {
border-color: var(--primary);
transform: translateY(-2px);
box-shadow: var(--shadow-sm);
color: var(--primary);
}

.menu a.active {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

/* CONTAINER */
.container {
max-width: 1400px;
margin: 2rem auto;
padding: 0 1.5rem;
position: relative;
z-index: 1;
}

/* ANNOUNCEMENT CARDS */
.announcement-card {
background: white;
border-radius: var(--border-radius);
padding: 2rem;
margin-bottom: 1.5rem;
box-shadow: var(--shadow-md);
animation: fadeInUp 0.5s ease;
position: relative;
border-left: 5px solid var(--primary);
transition: var(--transition);
}

.announcement-card:hover {
transform: translateY(-4px);
box-shadow: var(--shadow-lg);
}

.announcement-card h2 {
color: var(--dark);
margin-bottom: 1rem;
font-size: 1.5rem;
font-weight: 600;
}

.announcement-card .time {
color: var(--gray);
font-size: 0.875rem;
margin-top: 1rem;
display: flex;
align-items: center;
gap: 6px;
}

.announcement-card .time::before {
content: 'ğŸ•';
}

.announcement-card .actions {
position: absolute;
top: 1.5rem;
right: 1.5rem;
display: flex;
gap: 8px;
}

.announcement-card .actions span {
cursor: pointer;
font-size: 1.5rem;
transition: var(--transition);
width: 36px;
height: 36px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 8px;
}

.announcement-card .actions span:hover {
transform: scale(1.2);
background: rgba(0, 0, 0, 0.05);
}

.announcement-card .actions .delete:hover { background: rgba(239, 68, 68, 0.1); }
.announcement-card .actions .edit:hover { background: rgba(99, 102, 241, 0.1); }
.announcement-card .actions .move:hover { background: rgba(16, 185, 129, 0.1); }

/* HOMEPAGE CONTENT */
.homepage-content {
background: white;
border-radius: var(--border-radius);
padding: 3rem;
line-height: 1.8;
box-shadow: var(--shadow-lg);
}

.homepage-content h1 {
color: var(--primary);
font-size: 2.5rem;
margin-bottom: 1.5rem;
font-weight: 700;
}

.homepage-content h2 {
color: var(--secondary);
font-size: 2rem;
margin: 2rem 0 1rem;
font-weight: 600;
}

.homepage-content h3 {
color: var(--primary);
font-size: 1.5rem;
margin: 1.5rem 0 1rem;
font-weight: 600;
}

.homepage-content p {
margin-bottom: 1rem;
color: var(--dark);
}

.homepage-content a {
color: var(--primary);
text-decoration: none;
font-weight: 500;
display: inline-flex;
align-items: center;
gap: 8px;
padding: 12px 24px;
background: rgba(99, 102, 241, 0.1);
border-radius: 50px;
margin: 8px 8px 8px 0;
transition: var(--transition);
}

.homepage-content a:hover {
background: var(--primary);
color: white;
transform: translateX(4px);
}

/* TABLES */
.teachers-table, .tutors-table {
width: 100%;
border-collapse: separate;
border-spacing: 0;
margin-top: 1.5rem;
background: white;
border-radius: var(--border-radius);
overflow: hidden;
box-shadow: var(--shadow-md);
}
/* FILTERS */
.filters-container {
    background: white;
    border-radius: var(--border-radius);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: var(--shadow-md);
}

.filters-container h3 {
    color: var(--dark);
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.filter-options {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.filter-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: 12px;
    background: var(--light);
    cursor: pointer;
    transition: var(--transition);
    border: 2px solid transparent;
}

.filter-option:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: var(--primary);
}

.filter-option input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--primary);
}

.filter-option label {
    cursor: pointer;
    font-weight: 500;
    color: var(--dark);
    user-select: none;
}

.filter-orange { border-left: 4px solid #ff9800; }
.filter-green { border-left: 4px solid #4caf50; }
.filter-red { border-left: 4px solid #f44336; }
.filter-white { border-left: 4px solid #e0e0e0; }

.teachers-table th, .teachers-table td,
.tutors-table th, .tutors-table td {
padding: 1.25rem;
text-align: left;
border-bottom: 1px solid #f0f0f0;
}

.teachers-table th, .tutors-table th {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
font-weight: 600;
text-transform: uppercase;
font-size: 0.875rem;
letter-spacing: 0.5px;
}

.teachers-table tbody tr, .tutors-table tbody tr {
transition: var(--transition);
}

.teachers-table tr:hover, .tutors-table tr:hover {
background: rgba(99, 102, 241, 0.05);
transform: scale(1.01);
}

.teachers-table td, .tutors-table td {
color: var(--dark);
}

/* MODERN TEACHERS SECTION */
.teachers-modern-container {
max-width: 1400px;
margin: 0 auto;
padding: 2rem;
}

.teachers-modern-title {
text-align: center;
font-size: 3rem;
color: white;
margin-bottom: 3rem;
position: relative;
padding-bottom: 1.5rem;
font-weight: 700;
text-shadow: 2px 4px 8px rgba(0, 0, 0, 0.2);
}

.teachers-modern-title::after {
content: '';
position: absolute;
bottom: 0;
left: 50%;
transform: translateX(-50%);
width: 120px;
height: 5px;
background: linear-gradient(90deg, var(--secondary), var(--warning));
border-radius: 10px;
}

.teachers-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
gap: 1.5rem;
margin-bottom: 3rem;
}

.teacher-card {
background: white;
border-radius: var(--border-radius);
padding: 1.75rem;
box-shadow: var(--shadow-md);
transition: var(--transition);
border-top: 4px solid var(--primary);
position: relative;
overflow: hidden;
}

.teacher-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(236, 72, 153, 0.05));
opacity: 0;
transition: var(--transition);
z-index: 0;
}

.teacher-card:hover::before {
opacity: 1;
}

.teacher-card:hover {
transform: translateY(-8px);
box-shadow: var(--shadow-lg);
}

.teacher-card-header {
display: flex;
align-items: center;
margin-bottom: 1rem;
position: relative;
z-index: 1;
}

.subject-icon {
width: 56px;
height: 56px;
border-radius: 14px;
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
display: flex;
align-items: center;
justify-content: center;
font-size: 1.75rem;
margin-right: 1rem;
flex-shrink: 0;
box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.subject-name {
font-size: 1.4rem;
font-weight: 600;
color: var(--dark);
line-height: 1.2;
}

.teachers-list {
position: relative;
z-index: 1;
color: var(--gray);
line-height: 1.8;
font-size: 0.95rem;
}

/* ADMIN SECTION */
.admin-section {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
border-radius: 24px;
padding: 3rem;
margin-top: 3rem;
color: white;
box-shadow: var(--shadow-lg);
position: relative;
overflow: hidden;
}

.admin-section::before {
content: '';
position: absolute;
top: -50%;
right: -50%;
width: 100%;
height: 100%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 2px, transparent 2px);
background-size: 40px 40px;
}

.admin-section h2 {
text-align: center;
font-size: 2.5rem;
margin-bottom: 2.5rem;
color: white;
font-weight: 700;
position: relative;
z-index: 1;
}

.admin-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
gap: 1.5rem;
position: relative;
z-index: 1;
}

.admin-card {
background: rgba(255, 255, 255, 0.15);
backdrop-filter: blur(20px);
border-radius: 16px;
padding: 1.75rem;
border: 2px solid rgba(255, 255, 255, 0.2);
transition: var(--transition);
}

.admin-card:hover {
background: rgba(255, 255, 255, 0.25);
transform: translateY(-4px);
box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.admin-position {
font-weight: 600;
font-size: 1.1rem;
margin-bottom: 0.5rem;
color: #fff;
}

.admin-name {
color: rgba(255, 255, 255, 0.9);
font-size: 0.95rem;
}

/* BUTTONS */
.add-button {
background: linear-gradient(135deg, var(--success), #059669);
color: white;
border: none;
padding: 1rem 2.5rem;
border-radius: 50px;
cursor: pointer;
font-size: 1.1rem;
font-weight: 600;
transition: var(--transition);
margin-bottom: 2rem;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
display: inline-flex;
align-items: center;
gap: 8px;
}

.add-button::before {
content: 'â•';
}

.add-button:hover {
transform: translateY(-2px);
box-shadow: 0 8px 20px rgba(16, 185, 129, 0.5);
}

.add-button:active {
transform: translateY(0);
}

/* MODAL */
.modal-overlay {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: rgba(0, 0, 0, 0.6);
backdrop-filter: blur(8px);
display: none;
justify-content: center;
align-items: center;
z-index: 1000;
animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

.modal-content {
background: white;
padding: 2.5rem;
border-radius: var(--border-radius);
width: 90%;
max-width: 550px;
box-shadow: var(--shadow-lg);
animation: slideUp 0.3s ease;
max-height: 90vh;
overflow-y: auto;
}

@keyframes slideUp {
from { transform: translateY(30px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.modal-content h2 {
color: var(--dark);
margin-bottom: 1.5rem;
font-size: 1.75rem;
font-weight: 600;
}

.form-group {
margin-bottom: 1.5rem;
}

.form-group label {
display: block;
margin-bottom: 0.5rem;
color: var(--dark);
font-weight: 500;
font-size: 0.95rem;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    font-size: 1rem;
    transition: border-color 0.3s, box-shadow 0.3s;
    font-family: 'Poppins', sans-serif;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
outline: none;
border-color: var(--primary);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.form-group textarea {
    resize: vertical;
    min-height: 120px;
    max-height: 600px;
    white-space: pre-wrap;
    overflow-y: auto;
    transition: none; /* WyÅ‚Ä…cza zacinanie przy resize */
}

.date-range-container {
display: flex;
gap: 1rem;
}

.date-range-item {
flex: 1;
}

.form-buttons {
margin-top: 2rem;
display: flex;
gap: 1rem;
justify-content: flex-end;
}

.form-buttons button {
padding: 12px 28px;
border: none;
border-radius: 50px;
cursor: pointer;
transition: var(--transition);
font-weight: 600;
font-size: 0.95rem;
}

.form-buttons button[type="submit"] {
background: linear-gradient(135deg, var(--success), #059669);
color: white;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.form-buttons button[type="submit"]:hover {
transform: translateY(-2px);
box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
}

.form-buttons button[type="button"] {
background: white;
color: var(--danger);
border: 2px solid var(--danger);
}

.form-buttons button[type="button"]:hover {
background: var(--danger);
color: white;
}

/* PAGINATION */
.pagination {
display: flex;
justify-content: center;
gap: 8px;
margin: 2rem 0;
flex-wrap: wrap;
}

.page-btn {
padding: 10px 18px;
border: 2px solid var(--primary);
border-radius: 10px;
background: white;
cursor: pointer;
transition: var(--transition);
font-weight: 500;
color: var(--primary);
}

.page-btn.active {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.page-btn:hover:not(.active) {
background: rgba(99, 102, 241, 0.1);
transform: translateY(-2px);
}

.announcement-content {
white-space: pre-line;
line-height: 1.7;
margin: 1rem 0;
color: var(--dark);
}

/* ARCHIVE */
.archive-modal {
max-height: 80vh;
overflow-y: auto;
}

.archive-item {
background: linear-gradient(135deg, #f9fafb, #ffffff);
padding: 1.5rem;
margin-bottom: 1rem;
border-radius: var(--border-radius);
border-left: 5px solid var(--primary);
box-shadow: var(--shadow-sm);
transition: var(--transition);
}

.archive-item:hover {
transform: translateX(4px);
box-shadow: var(--shadow-md);
}

.archive-item h3 {
margin-bottom: 0.75rem;
color: var(--dark);
font-weight: 600;
}

.archive-item p {
color: var(--gray);
font-size: 0.9rem;
margin-bottom: 0.5rem;
}

.archive-item .actions {
margin-top: 1rem;
display: flex;
gap: 8px;
}

.archive-item .actions button {
padding: 8px 16px;
border: none;
border-radius: 8px;
cursor: pointer;
font-size: 0.875rem;
font-weight: 500;
transition: var(--transition);
}

.archive-item .actions .restore {
background: var(--success);
color: white;
}

.archive-item .actions .restore:hover {
background: #059669;
transform: scale(1.05);
}

.archive-item .actions .delete-permanent {
background: var(--danger);
color: white;
}

.archive-item .actions .delete-permanent:hover {
background: #dc2626;
transform: scale(1.05);
}

/* SWITCHER */
.przelacznik {
position: fixed;
top: 15px;
left: 15px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
padding: 15px;
border-radius: 16px;
z-index: 1000;
display: flex;
flex-direction: column;
box-shadow: var(--shadow-lg);
border: 2px solid rgba(99, 102, 241, 0.1);
}

.przelacznik a {
color: var(--dark);
text-decoration: none;
margin-bottom: 8px;
font-family: 'Poppins', sans-serif;
background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
padding: 10px 16px;
border-radius: 10px;
transition: var(--transition);
font-weight: 500;
font-size: 14px;
}

.przelacznik a:last-child {
margin-bottom: 0;
}

.przelacznik a:hover {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
transform: translateX(4px);
}

/* ANIMATIONS */
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

/* VERSION INFO */
.version-info {
position: fixed;
top: 0;
left: 0;
padding: 8px 16px;
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
color: white;
z-index: 9999;
border-bottom-right-radius: 12px;
font-weight: 600;
font-size: 0.875rem;
box-shadow: var(--shadow-md);
}

/* RESPONSIVE */
@media (max-width: 768px) {
.header h1 {
font-size: 2rem;
}

.search-container {
position: static;
justify-content: center;
margin-top: 1rem;
}

.menu {
flex-direction: column;
}

.menu a {
justify-content: center;
}

.teachers-grid,
.admin-grid {
grid-template-columns: 1fr;
}

.teachers-modern-title {
font-size: 2rem;
}

.homepage-content {
padding: 1.5rem;
}

.homepage-content h1 {
font-size: 1.75rem;
}

.modal-content {
width: 95%;
padding: 1.5rem;
}

.date-range-container {
flex-direction: column;
}

.przelacznik {
top: 10px;
left: 10px;
padding: 10px;
}

.przelacznik a {
padding: 8px 12px;
font-size: 12px;
}
}

/* SCROLLBAR */
::-webkit-scrollbar {
width: 10px;
}

::-webkit-scrollbar-track {
background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
background: linear-gradient(135deg, var(--primary), var(--primary-dark));
border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
background: var(--primary-dark);
}
</style>
</head>
<body>

<div class="przelacznik">
    <a href="https://fillxd.github.io/sz57">Syst</a>
    <a href="https://fillxd.github.io/tm57">TM</a>
    <a href="https://fillxd.github.io/pl57">Plan</a>
    <a href="https://fillxd.github.io/na57">MG</a>
    <a href="https://fillxd.github.io/tk57">D5b</a>
    <a href="https://fillxd.github.io/kl57">T5b</a>
    <a href="https://docs.google.com/spreadsheets/d/18OV9Sar_ENFseGPn8wppwrIeJXm6j4dsa890OTg6Ioo/edit?gid=1302175797#gid=1302175797">ARK</a>
</div>

<div class="version-info">2.0a</div>

<div class="header">
    <h1>SzkoÅ‚a Podstawowa nr 57 we WrocÅ‚awiu</h1>
    <div class="search-container">
        <a href="#" id="archiveButton">ğŸ—‘ï¸ Kosz</a>
    </div>
</div>

<nav>
    <div class="menu">
        <a href="#" class="active" data-category="1">ğŸ  Strona GÅ‚Ã³wna</a>
        <a href="#" data-category="5">ğŸ“° AktualnoÅ›ci</a>
        <a href="#" data-category="11">ğŸ“„ Dokumenty</a>
        <a href="#" data-category="2">ğŸ“… Wydarzenia</a>
        <a href="#" data-category="9">ğŸ‘¨â€ğŸ« Nauczyciele</a>
        <a href="#" data-category="10">ğŸ‘¥ Wychowawcy</a>
        <a href="#" data-category="7">ğŸˆ Klasy 1-3 i Åšwietlica</a>
        <a href="#" data-category="6">ğŸ¯ SamorzÄ…d i Wolontariat</a>
        <a href="#" data-category="12">ğŸ¨ SzkoÅ‚a Artystyczna</a>
        <a href="#" data-category="8">ğŸ“š Dla Nauczycieli</a>
        <a href="#" data-category="3">ğŸ“¢ OgÅ‚oszenia</a>
        <a href="#" data-category="4">ğŸ¥ NieobecnoÅ›ci</a>
    </div>
</nav>

<div class="container">
    <button class="add-button" id="addButton" onclick="handleAddButton()">Dodaj OgÅ‚oszenie</button>
    <div id="announcements"></div>
</div>

<!-- Modal dla nieobecnoÅ›ci -->
<div class="modal-overlay" id="absenceModal">
    <div class="modal-content">
        <h2 id="absenceModalTitle">â• Dodaj NieobecnoÅ›Ä‡</h2>
        <form id="absenceForm">
            <div class="form-group">
                <label>Okres nieobecnoÅ›ci:</label>
                <div class="date-range-container">
                    <div class="date-range-item">
                        <label for="absenceDateFrom">Od:</label>
                        <input type="date" id="absenceDateFrom" required>
                    </div>
                    <div class="date-range-item">
                        <label for="absenceDateTo">Do:</label>
                        <input type="date" id="absenceDateTo" required>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="absenceHours">Godziny (lub "caÅ‚y dzieÅ„"):</label>
                <input type="text" id="absenceHours" placeholder="np. 8:00-12:00 lub caÅ‚y dzieÅ„" required>
            </div>

            <div class="form-group">
                <label for="absenceTeacher">Nauczyciel:</label>
                <select id="absenceTeacher" required>
                    <option value="">Wybierz nauczyciela</option>
                </select>
            </div>

            <div class="form-group">
                <label for="absenceReason">PowÃ³d:</label>
                <select id="absenceReason" required>
                    <option value="">brak</option>
                    <option value="Zwolnienie Lekarskie">Zwolnienie Lekarskie</option>
                    <option value="Choroba">Choroba</option>
                    <option value="DÅ‚ugotrwaÅ‚a Choroba">DÅ‚ugotrwaÅ‚a Choroba</option>
                    <option value="Sprawy szkolne">Sprawy szkolne</option>
                    <option value="Sprawy prywatne">Sprawy prywatne</option>
                    <option value="Urlop PÅ‚atny">Urlop PÅ‚atny</option>
                    <option value="Urlop BezpÅ‚atny">Urlop BezpÅ‚atny</option>
                    <option value="Urlop Rodzinny">Urlop Rodzinny</option>
                    <option value="Szkolenie">Szkolenie</option>
                    <option value="Rada/Konsultacje">Rada/Konsultacje</option>
                    <option value="Odpracowanie">Odpracowanie</option>
                    <option value="Wycieczka">Wycieczka</option>
                    <option value="Inne">Inne</option>
                </select>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('absenceModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla wydarzeÅ„ -->
<div class="modal-overlay" id="eventModal">
    <div class="modal-content">
        <h2 id="eventModalTitle">â• Dodaj Wydarzenie</h2>
        <form id="eventForm">
            <div class="form-group">
                <label for="eventDate">Data:</label>
                <input type="date" id="eventDate" required>
            </div>

            <div class="form-group">
                <label for="eventHours">Godziny (lub "caÅ‚y dzieÅ„"):</label>
                <input type="text" id="eventHours" placeholder="np. 8:00-12:00 lub caÅ‚y dzieÅ„" required>
            </div>

            <div class="form-group">
                <label for="eventName">Nazwa wydarzenia:</label>
                <input type="text" id="eventName" required>
            </div>

            <div class="form-group">
                <label for="eventCategory">DziaÅ‚anie:</label>
                <select id="eventCategory" required>
                    <option value="">wybierz</option>
                    <option value="zajÄ™cia odwoÅ‚ane - uczniowie zwolnieni do domu.">zajÄ™cia odwoÅ‚ane - uczniowie zwolnieni do domu.</option>
                    <option value="ZajÄ™cia zwiÄ…zane z tematem wydarzenia.">zajÄ™cia zwiÄ…zane z tematem wydarzenia.</option>
                    <option value="DzieÅ„ wolny od zajÄ™Ä‡ dydaktyczno-wychowawczych (DzieÅ„ Wolny SzkoÅ‚y)">DzieÅ„ wolny od zajÄ™Ä‡ dydaktyczno-wychowawczych (DzieÅ„ Wolny SzkoÅ‚y)</option>
                    <option value="brak">Brak</option>
                </select>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('eventModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla ogÅ‚oszeÅ„ -->
<div class="modal-overlay" id="announcementModal">
    <div class="modal-content">
        <h2 id="announcementModalTitle">â• Dodaj OgÅ‚oszenie</h2>
        <form id="announcementForm">
            <div class="form-group">
                <label for="announcementTeacher">Nauczyciel:</label>
                <select id="announcementTeacher" required>
                    <option value="">Wybierz nauczyciela</option>
                </select>
            </div>

            <div class="form-group">
                <label for="announcementTitle">TytuÅ‚:</label>
                <input type="text" id="announcementTitle" required>
            </div>

            <div class="form-group">
                <label for="announcementContent">TreÅ›Ä‡:</label>
                <textarea id="announcementContent" rows="4" required></textarea>
            </div>

            <div class="form-group">
                <label>Czas:</label>
                <div class="date-range-container">
                    <div class="date-range-item">
                        <label for="announcementDateFrom">Od:</label>
                        <input type="date" id="announcementDateFrom" required>
                    </div>
                    <div class="date-range-item">
                        <label for="announcementDateTo">Do:</label>
                        <input type="date" id="announcementDateTo" required>
                    </div>
                </div>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('announcementModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla aktualnoÅ›ci -->
<div class="modal-overlay" id="newsModal">
    <div class="modal-content">
        <h2 id="newsModalTitle">â• Dodaj Wpis</h2>
        <form id="newsForm">
            <div class="form-group">
                <label for="newsTitle">TytuÅ‚ wpisu:</label>
                <input type="text" id="newsTitle" required>
            </div>

            <div class="form-group">
                <label for="newsContent">TreÅ›Ä‡ wpisu:</label>
                <textarea id="newsContent" rows="4" required></textarea>
            </div>

            <div class="form-buttons">
                <button type="button" onclick="document.getElementById('newsModal').style.display = 'none'">Anuluj</button>
                <button type="submit">Zapisz</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal dla archiwum -->
<div class="modal-overlay" id="archiveModal">
    <div class="modal-content archive-modal">
        <h2>ğŸ—‘ï¸ Archiwum</h2>
        <div id="archiveContent"></div>
        <div class="form-buttons">
            <button type="button" onclick="document.getElementById('archiveModal').style.display = 'none'">Zamknij</button>
        </div>
    </div>
</div>

<script>
window.addEventListener("DOMContentLoaded", () => {
  if (localStorage.getItem("isLoggedIn") === "true") {
    document.getElementById("loginOverlay").style.display = "none";
    document.getElementById("content").style.display = "block";
  }
});

const firebaseConfig = {
apiKey: "AIzaSyCFOF0WtZfOSzXFO6gr6kTXwtHlymwGjNU",
authDomain: "szkola57-ccc80.firebaseapp.com",
databaseURL: "https://szkola57-ccc80-default-rtdb.europe-west1.firebasedatabase.app",
projectId: "szkola57-ccc80",
storageBucket: "szkola57-ccc80.appspot.com",
messagingSenderId: "422165475378",
appId: "1:422165475378:web:dc7cd50c37451dd7ec4c2b"
};

const app = firebase.initializeApp(firebaseConfig);
const database = firebase.database();

let currentCategory = 1;
let announcements = {};
let archive = [];
let currentPage = 1;
let editMode = false;
let editIndex = -1;
let eventFilters = {
    orange: true,
    green: true,
    red: true,
    white: true
};
const itemsPerPage = 8;

const requiredCategories = [2, 3, 4, 5, 6, 7, 8, 12];

function saveAnnouncements() {
const updates = {
'/announcements': announcements,
'/archive': archive
};
return database.ref().update(updates);
}

function loadAnnouncements(callback) {
const announcementsPromise = new Promise(resolve => {
database.ref('announcements').on('value', snapshot => {
const data = snapshot.val() || {};
requiredCategories.forEach(cat => {
if (!data[cat]) data[cat] = [];
});
announcements = data;
resolve();
});
});

const archivePromise = new Promise(resolve => {
database.ref('archive').on('value', snapshot => {
archive = snapshot.val() || [];
resolve();
});
});

Promise.all([announcementsPromise, archivePromise])
.then(callback)
.catch(error => {
console.error("BÅ‚Ä…d Å‚adowania danych:", error);
announcements = {};
requiredCategories.forEach(cat => {
announcements[cat] = [];
});
archive = [];
callback();
});
}

const nauczyciele = [
"Aleksander BiaÅ‚ko", "Katarzyna BorzÄ™dzin", "Anna Brzeska", "Hanna Brzeska", "Anna Burakowska", "Agnieszka Burkiewicz", "Katarzyna Buzdro", "Sylwia CzeÅ›niewicz", "Faustyna Dobrzek",
"MaÅ‚gorzata DomagaÅ‚a", "Karolina Dominiak", "Dariusz DrzemaÅ‚a", "ElÅ¼bieta Gawin", "Mateusz Gig", "Irynna Goshevniyk", "GraÅ¼yna Gruszka", "PaweÅ‚ Grzegorzewski", "Anna GrzeÅ›kowiak",
"Ignacy JasiÅ„ski", "Magdalena Joelesh", "Martyna KoÅ‚odziejczyk", "Zuzanna KoÅ›nicka", "Sylwia Kozakowska", "Marcin Krupnicki", "MaÅ‚gorzata LesiÅ„ska", "Rozalia Lipska", "Zofia Lisek",
"Aleksandra Malczyk", "Ewa Malinowska", "Joanna MaÅ‚ek", "Dorota Maszkiewska", "Agnieszka MiÅ‚asz", "Kinga MÅ‚odzik", "Karolina MÅ‚otek", "Daria Musherina", "Antonnio Myszkowski", "Tadeusz Ostrowski",
"Ludwik Parkowiak", "Antonina Pawelczyk", "MichaÅ‚ Pietruszewski", "Natalia RaczyÅ„ska", "Alicja Rajewicz-DrzemaÅ‚a", "Weronika Rogalska", "Katarzyna Sieczko", "Renata Skleszewska",
"Lena SkwierzyÅ„ska", "Alicja StruÅ›-Michalska", "Barbara Strzegomska", "Karolina Sznurowska", "BoÅ¼ena Szpilkiewicz", "Ewelina Åšmigalska", "Zuzanna Åšwierczek", "MichaÅ‚ Tarczyn", 
"Barbara Trzaskowska", "WAKAT Fizyka", "Celina WÅ‚odarczyk", "Ignacy WÅ‚oszek", "Marian WoÅºniak", "Aleksandra Wykaz", "Marlena WyszyÅ„ska", "Urszula ZÅ‚ociÅ„ska", "Oliwia Å»abkiewicz", "Karolina Å»ukowska",
"teacher_account_150", "teacher_account_153", "wychowawca Å›wietlicy", "teacher_account_154", "Administrator"
];

[document.getElementById('absenceTeacher'), document.getElementById('announcementTeacher')].forEach(select => {
nauczyciele.forEach(teacher => {
const option = document.createElement('option');
option.value = teacher;
option.textContent = teacher;
select.appendChild(option);
});
});

document.querySelectorAll('.menu a').forEach(link => {
link.addEventListener('click', (e) => {
e.preventDefault();
currentCategory = parseInt(link.dataset.category);
currentPage = 1;
document.querySelector('.menu a.active').classList.remove('active');
link.classList.add('active');
toggleAddButton();
showAnnouncements();
});
});

document.getElementById('archiveButton').addEventListener('click', (e) => {
e.preventDefault();
showArchive();
});

function showArchive() {
const archiveContent = document.getElementById('archiveContent');
archiveContent.innerHTML = '';

if (archive.length === 0) {
archiveContent.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 2rem;">Archiwum jest puste.</p>';
} else {
archive.forEach((item, index) => {
const archiveItem = document.createElement('div');
archiveItem.className = 'archive-item';

const formatDate = (dateStr) => {
if (!dateStr) return '';
const [year, month, day] = dateStr.split('-');
return `${day.padStart(2, '0')}.${month.padStart(2, '0')}.${year}`;
};

let content = '';
if (item.category === 4) {
const from = formatDate(item.dateFrom);
const to = formatDate(item.dateTo);
content = `
<h3>ğŸ¥ NieobecnoÅ›Ä‡: ${item.teacher}</h3>
<p>Okres: ${from} - ${to} ${item.hours ? `(${item.hours})` : ''}</p>
<p>PowÃ³d: ${item.reason}</p>
`;
} else if (item.category === 2) {
content = `
<h3>ğŸ“… Wydarzenie: ${item.name}</h3>
<p>Data: ${formatDate(item.date)} ${item.hours ? `(${item.hours})` : ''}</p>
<p>Kategoria: ${item.category}</p>
`;
} else if (item.category === 3) {
const from = formatDate(item.dateFrom);
const to = formatDate(item.dateTo);
content = `
<h3>ğŸ“¢ OgÅ‚oszenie: ${item.teacher} - ${item.title}</h3>
<p>Okres waÅ¼noÅ›ci: ${from} - ${to}</p>
<p>${item.content}</p>
`;
} else if (item.category === 5) {
content = `
<h3>ğŸ“° AktualnoÅ›Ä‡: ${item.title}</h3>
<p>${item.content}</p>
`;
} else {
content = `
<h3>${item.title || 'Brak tytuÅ‚u'}</h3>
<p>${item.content || 'Brak treÅ›ci'}</p>
`;
}

const deletedDate = new Date(item.deletedAt || Date.now());
content += `
<p><small>UsuniÄ™te: ${deletedDate.toLocaleString()}</small></p>
<p><small>Kategoria: ${getCategoryName(item.category)}</small></p>
<div class="actions">
<button class="restore" onclick="restoreFromArchive(${index})">â™»ï¸ PrzywrÃ³Ä‡</button>
<button class="delete-permanent" onclick="deleteFromArchive(${index})">ğŸ—‘ï¸ UsuÅ„ na zawsze</button>
</div>
`;

archiveItem.innerHTML = content;
archiveContent.appendChild(archiveItem);
});
}

document.getElementById('archiveModal').style.display = 'flex';
}

function restoreFromArchive(index) {
const item = archive[index];
if (confirm(`Czy na pewno chcesz przywrÃ³ciÄ‡ to ogÅ‚oszenie do kategorii ${getCategoryName(item.category)}?`)) {
announcements[item.category].unshift(item);
archive.splice(index, 1);
saveAnnouncements().then(() => {
showArchive();
showAnnouncements();
});
}
}

function deleteFromArchive(index) {
if (confirm('Czy na pewno chcesz trwale usunÄ…Ä‡ to ogÅ‚oszenie z archiwum?')) {
archive.splice(index, 1);
saveAnnouncements().then(() => {
showArchive();
});
}
}

function getCategoryName(categoryId) {
const categories = {
1: 'Strona GÅ‚Ã³wna',
2: 'Wydarzenia',
3: 'OgÅ‚oszenia',
4: 'NieobecnoÅ›ci',
5: 'AktualnoÅ›ci',
6: 'SamorzÄ…d Uczniowski i Wolontariat',
7: 'Klasy 1-3 i Åšwietlica',
8: 'Dla Nauczycieli',
9: 'Grono Pedagogiczne',
10: 'Wychowawcy',
11: 'Dokumenty' ,
12: 'SzkoÅ‚a Artystyczna'
};
return categories[categoryId] || 'Nieznana kategoria';
}

function showAnnouncements() {
const container = document.getElementById('announcements');
container.innerHTML = '';

if(currentCategory === 1) {
container.innerHTML = `
<div class="homepage-content">
<h1>âœ¨ Witamy na stronie SzkoÅ‚y Podstawowej nr 57 i SzkoÅ‚y Artystycznej nr 2 we WrocÅ‚awiu!</h1>
<h2>ğŸ¨ NOWA SZKOÅA ARTYSTYCZNA NR 2 WE WROCÅAWIU W NASZYM BUDYNKU!</h2>
<p>Zapraszamy do naszej krainy edukacji!</p>

<h3>ğŸ“š O Naszej Szkole Podstawowej</h3>
<p>Nasza szkoÅ‚a to nowoczesna, przyjazna i otwarta placÃ³wka edukacyjna, ktÃ³ra oferuje szeroki wachlarz moÅ¼liwoÅ›ci rozwoju dla kaÅ¼dego ucznia. Prowadzimy klasy ogÃ³lne, sportowe, muzyczne oraz jÄ™zykowe â€“ tak, aby kaÅ¼de dziecko mogÅ‚o rozwijaÄ‡ swoje pasje, zdolnoÅ›ci i zainteresowania w odpowiednim dla siebie kierunku. Dysponujemy wykwalifikowanÄ… i doÅ›wiadczonÄ… kadrÄ… pedagogicznÄ…, ktÃ³ra z zaangaÅ¼owaniem wspiera uczniÃ³w w codziennej nauce i wychowaniu. Naszym priorytetem jest tworzenie bezpiecznego, inspirujÄ…cego Å›rodowiska, w ktÃ³rym dzieci mogÄ… uczyÄ‡ siÄ™, rozwijaÄ‡ i budowaÄ‡ trwaÅ‚e relacje. Nad caÅ‚oÅ›ciÄ… czuwa kompetentna i oddana dyrekcja, dbajÄ…ca zarÃ³wno o wysoki poziom ksztaÅ‚cenia, jak i o dobrÄ… atmosferÄ™ w szkole. DziÄ™ki wspÃ³lnej pracy caÅ‚ej spoÅ‚ecznoÅ›ci szkolnej, nasza szkoÅ‚a to miejsce, ktÃ³re nie tylko ksztaÅ‚ci, ale rÃ³wnieÅ¼ wychowuje i wspiera mÅ‚odych ludzi na kaÅ¼dym etapie ich rozwoju.</p>

<h3>ğŸ­ O Patronie SzkoÅ‚y Podstawowej</h3>
<p>StanisÅ‚aw Moniuszko urodziÅ‚ siÄ™ 5 maja 1819 roku w Ubielu (dzisiejsza BiaÅ‚oruÅ›). ByÅ‚ jednym z najwybitniejszych polskich kompozytorÃ³w XIX wieku, czÄ™sto nazywany "ojcem polskiej opery narodowej". Od najmÅ‚odszych lat miaÅ‚ kontakt z muzykÄ… â€“ pierwsze lekcje gry na fortepianie otrzymaÅ‚ od matki. W wieku 18 lat wyjechaÅ‚ do Berlina, gdzie studiowaÅ‚ kompozycjÄ™ i teoriÄ™ muzyki u Carla Rungenhagena. Po powrocie do kraju objÄ…Å‚ posadÄ™ organisty w Wilnie i rozpoczÄ…Å‚ dziaÅ‚alnoÅ›Ä‡ kompozytorskÄ… oraz organizowaÅ‚ koncerty. W tym czasie tworzyÅ‚ pieÅ›ni, muzykÄ™ koÅ›cielnÄ…, a takÅ¼e utwory sceniczne. Jego najwiÄ™kszÄ… sÅ‚awÄ™ przyniosÅ‚a opera â€Halka", ktÃ³ra miaÅ‚a premierÄ™ w 1848 roku w Wilnie w wersji koncertowej, a peÅ‚ne wykonanie sceniczne odbyÅ‚o siÄ™ w 1858 roku w Warszawie. Moniuszko doskonale oddaÅ‚ w niej ducha polskiego spoÅ‚eczeÅ„stwa â€“ pokazaÅ‚ problemy chÅ‚opÃ³w i szlachty, wykorzystujÄ…c elementy muzyki ludowej. W 1858 roku zostaÅ‚ dyrektorem Teatru Wielkiego w Warszawie, gdzie napisaÅ‚ kolejne waÅ¼ne opery, m.in. â€Straszny dwÃ³r", â€Hrabina" i â€Paria". OprÃ³cz oper tworzyÅ‚ teÅ¼ liczne pieÅ›ni, zebrane w zbiorach takich jak â€Åšpiewnik domowy", ktÃ³ry do dziÅ› stanowi skarb polskiej kultury muzycznej. Moniuszko zmarÅ‚ nagle 4 czerwca 1872 roku w Warszawie. ZostaÅ‚ pochowany na Cmentarzu PowÄ…zkowskim. Jego twÃ³rczoÅ›Ä‡, mocno zakorzeniona w polskim folklorze i tradycji narodowej, do dziÅ› jest symbolem muzycznego patriotyzmu.</p>

<h3>ğŸ¨ O Naszej Szkole Artystycznej</h3>
<p>Nasza szkoÅ‚a popoÅ‚udniowa to idealne miejsce dla uczniÃ³w, ktÃ³rzy chcÄ… rozwijaÄ‡ swoje pasje artystyczne po lekcjach. Oferujemy zajÄ™cia z muzyki, teatru, plastyki i taÅ„ca, prowadzone przez peÅ‚nych energii i kreatywnoÅ›ci nauczycieli. ZajÄ™cia sÄ… otwarte dla wszystkich â€“ niezaleÅ¼nie od szkoÅ‚y, do ktÃ³rej uczÄ™szczasz na co dzieÅ„. Wystarczy chÄ™Ä‡ tworzenia, odrobina pasji i zapis, a resztÄ… zajmiemy siÄ™ my! To nie tylko nauka, ale teÅ¼ Å›wietna atmosfera, wystÄ™py, warsztaty i moÅ¼liwoÅ›Ä‡ pokazania swoich talentÃ³w szerszej publicznoÅ›ci.</p>

<h3>â° Godziny otwarcia:</h3>
<p>ğŸ« SzkoÅ‚a: PN-PT 6:30-18:30</p>
<p>ğŸ“‹ Sekretariat: PN-PT 7:30-15:30</p>
<p>ğŸ“š Biblioteka (Karolina MÅ‚otek): PN(9:50-13:35) WT(8:00-13:35) CZ(12:30-14:30) PT(12:50-15:30)</p>
<p>ğŸ§  Psycholog mgr. Aleksandra Wykaz: PN-PT (9:00-14:30)</p>
<p>ğŸ’­ Pedagog mgr. Anna GrzeÅ›kowiak: WT:8:00-11:30, ÅšR:8:00-10:30 i 13:00-15:30, CZ: 9:00-14:30, PT: 8:00-15:30</p>
</div>`;
return;
}

if(currentCategory === 12) {
container.innerHTML = `
<div class="homepage-content">
<h1 style="text-align: center;">ğŸ¨ SzkoÅ‚a Artystyczna nr 2 we WrocÅ‚awiu</h1>
<p>Nasza szkoÅ‚a popoÅ‚udniowa to idealne miejsce dla uczniÃ³w, ktÃ³rzy chcÄ… rozwijaÄ‡ swoje pasje artystyczne po lekcjach. Oferujemy zajÄ™cia z taÅ„ca, plastyki, teatru i fotografii, prowadzone przez peÅ‚nych energii i kreatywnoÅ›ci nauczycieli. ZajÄ™cia sÄ… otwarte dla wszystkich â€“ niezaleÅ¼nie od szkoÅ‚y, do ktÃ³rej uczÄ™szczasz na co dzieÅ„. Wystarczy chÄ™Ä‡ tworzenia, odrobina pasji i zapis, a resztÄ… zajmiemy siÄ™ my! To nie tylko nauka, ale teÅ¼ Å›wietna atmosfera, wystÄ™py, warsztaty i moÅ¼liwoÅ›Ä‡ pokazania swoich talentÃ³w szerszej publicznoÅ›ci.</p>

<h1 style="text-align: center;">ğŸ“‹ KLASY</h1>
<h3>ğŸ’ƒ TANECZNA - TA1 (14 os.) 7-10 lat</h3>
<h3>ğŸ’ƒ TANECZNA - TA2 (13 os.) 11-14 lat</h3>
<h3>ğŸ¨ PLASTYCZNA - P (20 os.) 7-14 lat</h3>
<h3>ğŸ­ TEATRALNA - TE (14 os.) 7-14 lat</h3>
<h3>ğŸ“· FOTOGRAFICZNA - F (10 os.) 11-14 lat</h3>

<h1 style="text-align: center;">ğŸ‘¥ Nauczyciele</h1>
<h3>ğŸ‘” Ewa Malinowska (dyrektor)</h3>
<h3>ğŸ‘©â€ğŸ« Karolina Sznurowska</h3>
<h3>ğŸ‘©â€ğŸ« Agnieszka Burkiewicz</h3>

<a href="PLANSA.pdf" target="_blank">ğŸ“… PLAN LEKCJI SZKOÅY ARTYSTYCZNEJ</a>
</div>`;

const artContainer = document.getElementById('school-art-announcements') || container;
const categoryAnnouncements = announcements[currentCategory] || [];

if(categoryAnnouncements.length === 0) {
const emptyDiv = document.createElement('div');
emptyDiv.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 2rem;">Brak ogÅ‚oszeÅ„.</p>';
artContainer.appendChild(emptyDiv);
} else {
categoryAnnouncements.forEach((ann, index) => {
artContainer.appendChild(createAnnouncementCard(ann, index));
});
}
return;
}

if(currentCategory === 11) {
container.innerHTML = `
<div class="homepage-content">
<h1>ğŸ“„ DOKUMENTY:</h1>
<a href="kalendarz.pdf" target="_blank">ğŸ“… KALENDARZ ROKU SZKOLNEGO 2025/2026</a>
<a href="SP57_ZajDod.pdf" target="_blank">ğŸ“… KALENDARZ ZAJÄ˜Ä† DODATKOWYCH W ROKU SZKOLNYM (NOWY!)</a>
<a href="SP57_Kon.pdf" target="_blank">ğŸ‘¨â€ğŸ’¼ TERMINY KONSULTACJI Z NAUCZYCIELAMI 2025/2026 (NOWE!)</a>

<h2>ğŸ“‹ PLANY LEKCJI</h2>
<a href="PLANES.pdf" target="_blank">ğŸ“„ stary PLAN SP57// waÅ¼ny do 26.09.2025r.</a>
<a href="Sale-57.pdf" target="_blank">ğŸ« PODZIAÅ SAL NA NAUCZYCIELI, KLASY I PRZEDMIOTY</a>

<h2>ğŸ“… PLANY LEKCJI</h2>
<a href="SP57_P2.pdf" target="_blank">ğŸ“„ NOWY PLAN LEKCJI DLA KLAS - SP 57 (waÅ¼ny od 29.09)</a>
<a href="SP57_P2N.pdf" target="_blank">ğŸ‘¨â€ğŸ« NOWY PLAN LEKCJI DLA NAUCZYCIELI - SP 57 (waÅ¼ny od 29.09)</a>
<a href="PLANSA.pdf" target="_blank">ğŸ¨ PLAN LEKCJI SZKOÅY ARTYSTYCZNEJ 2025r.</a>

<h2> SKRÃ“TY W DZIENNIKU SZKOLNYM:</h2>
<p> Pol - JÄ™zyk Polski </p>
<p> Mat - Matematyka</p>
<p> Ang - JÄ™zyk Angielski</p>
<p> Hisz - JÄ™zyk HiszpaÅ„ski</p>
<p> Nie - JÄ™zyk Niemiecki</p>
<p> Biol - Biologia</p>
<p> Przy - Przyroda</p>
<p> WF - Wychowanie fizyczne</p>
<p> ZW - ZajÄ™cia wychowawcze</p>
<p> Plas - Plastyka</p>
<p> Hist - Historia</p>
<p> Muz - Muzyka</p>
<p> NOM - Nauka o Muzyce</p>
<p> Inf - Informatyka</p>
<p> Bas - Basen</p>
<p> Tech - Technika</p>
<p> Geo - Geografia</p>
<p> Che - Chemia</p>
<p> Fiz - Fizyka</p>
<p> KS - KsztaÅ‚cenie sÅ‚uchu</p>
<p> Tea - Teatr</p>
<p> Tan - Taniec</p>
<p> Ryt - Rytmika</p>
<p> WOS - Wiedza o spoÅ‚eczeÅ„stwie</p>
<p> EDB - Edukacja dla bezpieczeÅ„stwa</p>
<p> EW - Edukacja wczesnoszkolna</p>
<p> EIN - Edukacja Informatyczna</p>
<p> EG - Edukacja Gimnastyczna</p>
<p> ZT - ZajÄ™cia terenowe</p>
<p> Rel - Religia</p>
<p> EZ - Edukacja zdrowotna</p>
<p> Ety - Etyka</p>
<p> DZD* - ZajÄ™cia dodatkowe (Dziennik ZajÄ™Ä‡ Dodatkowych)</p>
<p> WS - Wspomaganie</p>
<p> Å›w - Åšwietlica</p>
<p> PP - Praca pedagoga/psychologa</p>
<p> ND - Nauczyciel Dodatkowy</p>
<p> O - Okienko</p>
</div>
`;
return;
}

if(currentCategory === 6) {
container.innerHTML = `
<div class="homepage-content">
<h2>ğŸ¯ SamorzÄ…d Uczniowski i Szkolne KoÅ‚o Wolontariatu</h2>
<h4>ğŸ‘¥ Opiekun SamorzÄ…du Ucz. kl.1-3: Anna Brzeska</h4>
<h4>ğŸ‘¥ Opiekun SamorzÄ…du Ucz. kl.4-8: MichaÅ‚ Tarczyn</h4>
<h4>â¤ï¸ Opiekun Szkolnego KoÅ‚a Wolontariatu: MichaÅ‚ Tarczyn, Zofia Lisek</h4>
<h4>ğŸ‘‘ PrzewodniczÄ…ca SzkoÅ‚y: Pola RuciÅ„ska (7m)</h4>
<h4>ğŸ‘‘ PrzewodniczÄ…ca klas 1-3: Zuzanna KamiÅ„ska (3a)</h4>
<h4>ğŸ‘‘ PrzewodniczÄ…cy klas 4-8: Szymon Zaucha (6b)</h4>

<h3>â° GODZINA DOSTÄ˜PNOÅšCI OPIEKUNÃ“W SAMORZÄ„DU I KOÅA WOLONTARIATU: piÄ…tek 10:45-12:50</h3>
<h3>ğŸ“… GODZINA ZEBRANIA UCZESTNIKÃ“W SAMORZÄ„DU UCZNIOWSKIEGO: piÄ…tek 11:30-11:45 (przerwa)</h3>
<h3>ğŸ“… GODZINA ZEBRANIA UCZESTNIKÃ“W SZKOLNEGO KOÅA WOLONTARIATU: piÄ…tek 12:30-12:50 (przerwa)</h3>

<h2>ğŸ“¢ OgÅ‚oszenia SamorzÄ…du i Wolontariatu:</h2>
</div>`;

const categoryAnnouncements = announcements[currentCategory] || [];
categoryAnnouncements.forEach((ann, index) => {
container.appendChild(createAnnouncementCard(ann, index));
});
return;
}

if(currentCategory === 9) {
container.innerHTML = `
<div class="teachers-modern-container">
<h1 class="teachers-modern-title">
ğŸ“ Grono Pedagogiczne 2025/2026
</h1>

<div class="teachers-grid">
<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ“</div>
<div class="subject-name">JÄ™zyk Polski</div>
</div>
<div class="teachers-list">
MaÅ‚gorzata LesiÅ„ska, Anna Burakowska, Oliwia Å»abkiewicz, ElÅ¼bieta Gawin, Dorota Maszkiewska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ”¢</div>
<div class="subject-name">Matematyka</div>
</div>
<div class="teachers-list">
MichaÅ‚ Tarczyn, Renata Skleszewska, Joanna MaÅ‚ek, BoÅ¼ena Szpilkiewicz, GraÅ¼yna Gruszka
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ‡¬ğŸ‡§</div>
<div class="subject-name">JÄ™zyk Angielski</div>
</div>
<div class="teachers-list">
Karolina Dominiak, Zofia Lisek, Marlena WyszyÅ„ska, Katarzyna Sieczko, Celina WÅ‚odarczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ‡©ğŸ‡ª</div>
<div class="subject-name">JÄ™zyk Niemiecki</div>
</div>
<div class="teachers-list">
Magdalena Joelesh
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ‡ªğŸ‡¸</div>
<div class="subject-name">JÄ™zyk HiszpaÅ„ski</div>
</div>
<div class="teachers-list">
Antonnio Myszkowski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">âš½</div>
<div class="subject-name">Wychowanie Fizyczne</div>
</div>
<div class="teachers-list">
Natalia RaczyÅ„ska, Sylwia CzeÅ›niewicz, MaÅ‚gorzata DomagaÅ‚a, Marcin Krupnicki, MichaÅ‚ Pietruszewski, Kinga MÅ‚odzik
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ“œ</div>
<div class="subject-name">Historia</div>
</div>
<div class="teachers-list">
PaweÅ‚ Grzegorzewski, Karolina Å»ukowska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸŒ±</div>
<div class="subject-name">Biologia, Przyroda</div>
</div>
<div class="teachers-list">
Zuzanna Åšwierczek
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ’¼</div>
<div class="subject-name">Doradztwo Zawodowe</div>
</div>
<div class="teachers-list">
Martyna KoÅ‚odziejczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ¨</div>
<div class="subject-name">Plastyka</div>
</div>
<div class="teachers-list">
Barbara Trzaskowska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ”§</div>
<div class="subject-name">Technika</div>
</div>
<div class="teachers-list">
Ludwik Parkowiak
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">âš—ï¸</div>
<div class="subject-name">Chemia</div>
</div>
<div class="teachers-list">
Tadeusz Ostrowski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">âš¡</div>
<div class="subject-name">Fizyka</div>
</div>
<div class="teachers-list">
Marian WoÅºniak
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ›ï¸</div>
<div class="subject-name">Wiedza o SpoÅ‚eczeÅ„stwie</div>
</div>
<div class="teachers-list">
Ludwik Parkowiak
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸš¨</div>
<div class="subject-name">Edukacja dla BezpieczeÅ„stwa</div>
</div>
<div class="teachers-list">
Dariusz DrzemaÅ‚a
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸŒ</div>
<div class="subject-name">Geografia</div>
</div>
<div class="teachers-list">
Mateusz Gig
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ’»</div>
<div class="subject-name">Informatyka</div>
</div>
<div class="teachers-list">
Ewelina Åšmigalska, Mateusz Gig
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">âœï¸</div>
<div class="subject-name">Religia</div>
</div>
<div class="teachers-list">
Ignacy WÅ‚oszek
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸµ</div>
<div class="subject-name">Muzyka</div>
</div>
<div class="teachers-list">
Hanna Brzeska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ­</div>
<div class="subject-name">Teatr</div>
</div>
<div class="teachers-list">
Antonina Pawelczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ’ƒ</div>
<div class="subject-name">Taniec</div>
</div>
<div class="teachers-list">
Hanna Brzeska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ¼</div>
<div class="subject-name">KsztaÅ‚cenie SÅ‚uchu</div>
</div>
<div class="teachers-list">
Antonina Pawelczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ¹</div>
<div class="subject-name">Nauka o Muzyce</div>
</div>
<div class="teachers-list">
Antonina Pawelczyk
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ‘¶</div>
<div class="subject-name">Edukacja Wczesnoszkolna</div>
</div>
<div class="teachers-list">
Weronika Rogalska, Martyna KoÅ‚odziejczyk, Rozalia Lipska, Faustyna Dobrzek, Katarzyna Buzdro, Anna Brzeska, Alicja Rajewicz-DrzemaÅ‚a, Agnieszka MiÅ‚asz, Daria Musherina
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸŠ</div>
<div class="subject-name">Basen</div>
</div>
<div class="teachers-list">
Marcin Krupnicki
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">â¤ï¸</div>
<div class="subject-name">Edukacja Zdrowotna</div>
</div>
<div class="teachers-list">
Lena SkwierzyÅ„ska
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ•ï¸</div>
<div class="subject-name">ZajÄ™cia Terenowe</div>
</div>
<div class="teachers-list">
Sylwia CzeÅ›niewicz, MaÅ‚gorzata DomagaÅ‚a, MichaÅ‚ Pietruszewski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ®</div>
<div class="subject-name">Åšwietlica</div>
</div>
<div class="teachers-list">
Alicja StruÅ›-Michalska, Barbara Strzegomska, Urszula ZÅ‚ociÅ„ska, Kinga MÅ‚odzik, MaÅ‚gorzata LesiÅ„ska, Alicja Rajewicz-DrzemaÅ‚a, Aleksandra Malczyk, Martyna KoÅ‚odziejczyk, Anna Brzeska, Zuzanna KoÅ›nicka, Ignacy Jasinski
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ¤”</div>
<div class="subject-name">Etyka</div>
</div>
<div class="teachers-list">
ElÅ¼bieta Gawin
</div>
</div>

<div class="teacher-card">
<div class="teacher-card-header">
<div class="subject-icon">ğŸ¤</div>
<div class="subject-name">Nauczyciel WspomagajÄ…cy</div>
</div>
<div class="teachers-list">
Sylwia Kozakowska, Aleksandra Malczyk, Dariusz DrzemaÅ‚a, Irynna Goshevniyk, Zuzanna KoÅ›nicka
</div>
</div>
</div>

<div class="admin-section">
<h2>ğŸ« Administracja i SzkoÅ‚a Artystyczna</h2>
<div class="admin-grid">
<div class="admin-card">
<div class="admin-position">ğŸ§  Pedagog</div>
<div class="admin-name">Anna GrzeÅ›kowiak</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ’­ Psycholog</div>
<div class="admin-name">Aleksandra Wykaz</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ“š Biblioteka</div>
<div class="admin-name">Karolina MÅ‚otek</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ‘” Dyrektor SP 57</div>
<div class="admin-name">Aleksander BiaÅ‚ko</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ‘” Wicedyrektor (kl. 1-3)</div>
<div class="admin-name">Lena SkwierzyÅ„ska</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ‘” Wicedyrektor (kl. 4-8)</div>
<div class="admin-name">Mateusz Gig</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ­ Dyrektor SA 2</div>
<div class="admin-name">Ewa Malinowska</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ’ƒ Taniec (SA)</div>
<div class="admin-name">Agnieszka Burkiewicz</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ¤¸ Gimnastyka (SA)</div>
<div class="admin-name">Ewa Malinowska</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ¨ Plastyka i Fotografia (SA)</div>
<div class="admin-name">Karolina Sznurkowska</div>
</div>
<div class="admin-card">
<div class="admin-position">ğŸ­ Teatr (SA)</div>
<div class="admin-name">Agnieszka Burkiewicz</div>
</div>
<div class="admin-card">
<div class="admin-position">âœ‚ï¸ ObrÃ³bka (SA)</div>
<div class="admin-name">Ewa Malinowska</div>
</div>
</div>
</div>
</div>
`;
return;
}

if(currentCategory === 10) {
container.innerHTML = `
<h2 style="text-align: center; color: white; font-size: 2.5rem; margin-bottom: 2rem; text-shadow: 2px 4px 8px rgba(0,0,0,0.3);">
ğŸ‘¥ LISTA KLAS, WYCHOWAWCÃ“W I NAUCZYCIELI WSPOMAGAJÄ„CYCH NA ROK SZKOLNY 2025/2026
</h2>

<table class="tutors-table">
<thead>
<tr>
<th>Klasa</th>
<th>Nazwa klasy</th>
<th>Wychowawca</th>
<th>Nauczyciel WspomagajÄ…cy</th>
</tr>
</thead>
<tbody>
<tr><td>1A</td><td>OgÃ³lna</td><td>Weronika Rogalska</td><td>Sylwia Kozakowska</td></tr>
<tr><td>1B</td><td>JÄ™zykowa</td><td>Katarzyna Buzdro</td><td></td></tr>
<tr><td>1M</td><td>Muzyczna</td><td>Anna Brzeska</td><td></td></tr>
<tr><td>2A</td><td>OgÃ³lna</td><td>Martyna KoÅ‚odziejczyk</td><td></td></tr>
<tr><td>2B</td><td>OgÃ³lna</td><td>Rozalia Lipska</td><td></td></tr>
<tr><td>2C</td><td>OgÃ³lna</td><td>Faustyna Dobrzek</td><td></td></tr>
<tr><td>3A</td><td>OgÃ³lna</td><td>Alicja Rajewicz-DrzemaÅ‚a</td><td></td></tr>
<tr><td>3B</td><td>OgÃ³lna</td><td>Agnieszka MiÅ‚asz</td><td></td></tr>
<tr><td>3C</td><td>JÄ™zykowa</td><td>Daria Musherina</td><td>Irynna Goshevniyk</td></tr>
<tr><td>4A</td><td>Sportowa</td><td>Marcin Krupnicki</td><td></td></tr>
<tr><td>4B</td><td>OgÃ³lna</td><td>MaÅ‚gorzata LesiÅ„ska</td><td></td></tr>
<tr><td>4C</td><td>OgÃ³lna</td><td>Karolina Dominiak</td><td></td></tr>
<tr><td>5A</td><td>Sportowa</td><td>Renata Skleszewska</td><td></td></tr>
<tr><td>5B</td><td>OgÃ³lna</td><td>Mateusz Gig</td><td></td></tr>
<tr><td>5C</td><td>Artystyczna</td><td>Natalia RaczyÅ„ska</td><td>Aleksandra Malczyk</td></tr>
<tr><td>6A</td><td>OgÃ³lna</td><td>Katarzyna Sieczko</td><td></td></tr>
<tr><td>6B</td><td>OgÃ³lna</td><td>Dorota Maszkiewicz</td><td></td></tr>
<tr><td>6M</td><td>Muzyczna</td><td>Antonina Pawelczyk</td><td></td></tr>
<tr><td>7A</td><td>OgÃ³lna</td><td>Anna Burakowska</td><td></td></tr>
<tr><td>7B</td><td>OgÃ³lna</td><td>Kinga MÅ‚odzik</td><td></td></tr>
<tr><td>7M</td><td>Muzyczna</td><td>MaÅ‚gorzata DomagaÅ‚a</td><td>Dariusz DrzemaÅ‚a</td></tr>
<tr><td>8A</td><td>OgÃ³lna</td><td>Celina WÅ‚odarczyk</td><td>Zuzanna KoÅ›nicka</td></tr>
<tr><td>8B</td><td>OgÃ³lna</td><td>Magdalena Joelesh</td><td></td></tr>
<tr><td>8M</td><td>Muzyczna</td><td>Ewelina Åšmigalska</td><td></td></tr>
</tbody>
</table>`;
return;
}

// FILTROWANIE DLA WYDARZEÅƒ (kategoria 2)
if(currentCategory === 2) {
    // Dodaj filtry
    const filtersDiv = document.createElement('div');
    filtersDiv.className = 'filters-container';
    filtersDiv.innerHTML = `
        <h3>ğŸ” Filtruj wydarzenia wedÅ‚ug dziaÅ‚ania:</h3>
        <div class="filter-options">
            <div class="filter-option filter-orange">
                <input type="checkbox" id="filter-orange" ${eventFilters.orange ? 'checked' : ''}>
                <label for="filter-orange">ğŸŸ  ZajÄ™cia odwoÅ‚ane - uczniowie zwolnieni</label>
            </div>
            <div class="filter-option filter-green">
                <input type="checkbox" id="filter-green" ${eventFilters.green ? 'checked' : ''}>
                <label for="filter-green">ğŸŸ¢ ZajÄ™cia zwiÄ…zane z tematem</label>
            </div>
            <div class="filter-option filter-red">
                <input type="checkbox" id="filter-red" ${eventFilters.red ? 'checked' : ''}>
                <label for="filter-red">ğŸ”´ DzieÅ„ wolny od zajÄ™Ä‡</label>
            </div>
            <div class="filter-option filter-white">
                <input type="checkbox" id="filter-white" ${eventFilters.white ? 'checked' : ''}>
                <label for="filter-white">âšª Brak</label>
            </div>
        </div>
    `;
    container.appendChild(filtersDiv);

    // Dodaj event listenery dla checkboxÃ³w
    setTimeout(() => {
        document.getElementById('filter-orange').addEventListener('change', (e) => {
            eventFilters.orange = e.target.checked;
            showAnnouncements();
        });
        document.getElementById('filter-green').addEventListener('change', (e) => {
            eventFilters.green = e.target.checked;
            showAnnouncements();
        });
        document.getElementById('filter-red').addEventListener('change', (e) => {
            eventFilters.red = e.target.checked;
            showAnnouncements();
        });
        document.getElementById('filter-white').addEventListener('change', (e) => {
            eventFilters.white = e.target.checked;
            showAnnouncements();
        });
    }, 0);

    // Filtruj wydarzenia
    const allEvents = announcements[currentCategory] || [];
    const filteredEvents = allEvents.filter(event => {
        if (event.category === 'zajÄ™cia odwoÅ‚ane - uczniowie zwolnieni do domu.') {
            return eventFilters.orange;
        } else if (event.category === 'ZajÄ™cia zwiÄ…zane z tematem wydarzenia.') {
            return eventFilters.green;
        } else if (event.category === 'DzieÅ„ wolny od zajÄ™Ä‡ dydaktyczno-wychowawczych (DzieÅ„ Wolny SzkoÅ‚y)') {
            return eventFilters.red;
        } else if (event.category === 'brak') {
            return eventFilters.white;
        }
        return true;
    });

    if(filteredEvents.length === 0) {
        const emptyDiv = document.createElement('div');
        emptyDiv.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak wydarzeÅ„ speÅ‚niajÄ…cych wybrane kryteria.</p>';
        container.appendChild(emptyDiv);
    } else {
        filteredEvents.forEach((ann, originalIndex) => {
            const actualIndex = allEvents.indexOf(ann);
            container.appendChild(createAnnouncementCard(ann, actualIndex));
        });
    }
    return;
}

if(currentCategory === 5) {
const allAnnouncements = announcements[currentCategory] || [];
const startIndex = (currentPage - 1) * itemsPerPage;
const endIndex = startIndex + itemsPerPage;
const pagedAnnouncements = allAnnouncements.slice(startIndex, endIndex);

if(pagedAnnouncements.length === 0) {
container.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak aktualnoÅ›ci.</p>';
} else {
pagedAnnouncements.forEach((ann, index) => {
container.appendChild(createAnnouncementCard(ann, startIndex + index));
});
}

const totalPages = Math.ceil(allAnnouncements.length / itemsPerPage);
if(totalPages > 1) {
const pagination = document.createElement('div');
pagination.className = 'pagination';

for(let i = 1; i <= totalPages; i++) {
const pageBtn = document.createElement('button');
pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
pageBtn.textContent = i;
pageBtn.onclick = () => {
currentPage = i;
showAnnouncements();
};
pagination.appendChild(pageBtn);
}
container.appendChild(pagination);
}
} else {
const categoryAnnouncements = announcements[currentCategory] || [];
if(categoryAnnouncements.length === 0) {
container.innerHTML = '<p style="text-align: center; color: white; padding: 2rem; font-size: 1.2rem;">Brak ogÅ‚oszeÅ„.</p>';
} else {
categoryAnnouncements.forEach((ann, index) => {
container.appendChild(createAnnouncementCard(ann, index));
});
}
}
}

function createAnnouncementCard(ann, index) {
const div = document.createElement('div');
div.className = 'announcement-card';

// Ustawienie koloru tÅ‚a dla wydarzeÅ„ (kategoria 2) w zaleÅ¼noÅ›ci od dziaÅ‚ania
if (currentCategory === 2) {
    if (ann.category === 'zajÄ™cia odwoÅ‚ane - uczniowie zwolnieni do domu.') {
        div.style.backgroundColor = '#ff9800'; // pomaraÅ„czowy
        div.style.color = 'white';
    } else if (ann.category === 'ZajÄ™cia zwiÄ…zane z tematem wydarzenia.') {
        div.style.backgroundColor = '#4caf50'; // zielony
        div.style.color = 'white';
    } else if (ann.category === 'DzieÅ„ wolny od zajÄ™Ä‡ dydaktyczno-wychowawczych (DzieÅ„ Wolny SzkoÅ‚y)') {
        div.style.backgroundColor = '#f44336'; // czerwony
        div.style.color = 'white';
    } else if (ann.category === 'brak') {
        div.style.backgroundColor = 'white'; // biaÅ‚y (domyÅ›lny)
    }
}

const formatDate = (dateStr) => {
    if (!dateStr) return '';
    const [year, month, day] = dateStr.split('-');
    return `${day.padStart(2, '0')}.${month.padStart(2, '0')}`;
};

let dateRange = '';
if(ann.dateFrom && ann.dateTo) {
const from = formatDate(ann.dateFrom);
const to = formatDate(ann.dateTo);
dateRange = from === to ? from : `${from} - ${to}`;
}

div.innerHTML = `
<div class="actions">
<span class="delete" onclick="deleteAnnouncement(${index})">ğŸ—‘ï¸</span>
<span class="edit" onclick="editAnnouncement(${index})">âœï¸</span>
<span class="move" onclick="moveAnnouncement(${index}, 'up')">â¬†ï¸</span>
<span class="move" onclick="moveAnnouncement(${index}, 'down')">â¬‡ï¸</span>
</div>
${currentCategory === 4 ? `
<h2>ğŸ¥ ${dateRange}${ann.hours && ann.hours !== 'caÅ‚y dzieÅ„' ? ` (${ann.hours})` : ''}</h2>
<p><strong>${ann.teacher || 'Brak danych'}</strong></p>
<p>${ann.reason || 'Brak powodu'}</p>
` : currentCategory === 2 ? `
<h2>ğŸ“… ${formatDate(ann.date)}${ann.hours && ann.hours !== 'caÅ‚y dzieÅ„' ? ` (${ann.hours})` : ''}</h2>
<p><strong>${ann.name || 'Brak nazwy'}</strong></p>
<p>Kategoria: ${ann.category || 'Brak kategorii'}</p>
` : currentCategory === 3 ? `
<h2>ğŸ“¢ ${ann.teacher || 'Brak nauczyciela'}: ${ann.title || 'Brak tytuÅ‚u'} (${dateRange})</h2>
<div class="announcement-content">${ann.content || 'Brak treÅ›ci'}</div>
<span class="time">${timeAgo(ann.timestamp)}</span>
` : [5,6,7,8,12].includes(currentCategory) ? `
<h2>${ann.title || 'Brak tytuÅ‚u'}</h2>
<div class="announcement-content">${ann.content || 'Brak treÅ›ci'}</div>
<span class="time">${timeAgo(ann.timestamp)}</span>
` : `
<h2>${ann.title || 'Brak tytuÅ‚u'}</h2>
<div class="announcement-content">${ann.content || 'Brak treÅ›ci'}</div>
<span class="time">${timeAgo(ann.timestamp)}</span>
`}
`;
return div;
}

function deleteAnnouncement(index) {
if(confirm('Czy na pewno chcesz przenieÅ›Ä‡ ten wpis do archiwum?')) {
const deletedItem = announcements[currentCategory][index];
deletedItem.category = currentCategory;
deletedItem.deletedAt = Date.now();

archive.unshift(deletedItem);
announcements[currentCategory].splice(index, 1);

saveAnnouncements()
.then(() => {
showAnnouncements();
})
.catch(error => {
console.error("BÅ‚Ä…d podczas zapisywania:", error);
alert("WystÄ…piÅ‚ bÅ‚Ä…d podczas przenoszenia do archiwum.");
});
}
}

function editAnnouncement(index) {
    editMode = true;
    editIndex = index;
    
    if (currentCategory === 4) {
        const absence = announcements[currentCategory][index];
        document.getElementById('absenceModalTitle').textContent = 'âœï¸ Edytuj NieobecnoÅ›Ä‡';
        document.getElementById('absenceDateFrom').value = absence.dateFrom;
        document.getElementById('absenceDateTo').value = absence.dateTo;
        document.getElementById('absenceHours').value = absence.hours || 'caÅ‚y dzieÅ„';
        document.getElementById('absenceTeacher').value = absence.teacher;
        document.getElementById('absenceReason').value = absence.reason;
        document.getElementById('absenceModal').style.display = 'flex';
        
    } else if (currentCategory === 2) {
        const event = announcements[currentCategory][index];
        document.getElementById('eventModalTitle').textContent = 'âœï¸ Edytuj Wydarzenie';
        document.getElementById('eventDate').value = event.date;
        document.getElementById('eventHours').value = event.hours || 'caÅ‚y dzieÅ„';
        document.getElementById('eventName').value = event.name;
        document.getElementById('eventCategory').value = event.category;
        document.getElementById('eventModal').style.display = 'flex';
        
    } else if (currentCategory === 3) {
        const announcement = announcements[currentCategory][index];
        document.getElementById('announcementModalTitle').textContent = 'âœï¸ Edytuj OgÅ‚oszenie';
        document.getElementById('announcementTeacher').value = announcement.teacher;
        document.getElementById('announcementTitle').value = announcement.title;
        document.getElementById('announcementContent').value = announcement.content;
        document.getElementById('announcementDateFrom').value = announcement.dateFrom;
        document.getElementById('announcementDateTo').value = announcement.dateTo;
        document.getElementById('announcementModal').style.display = 'flex';
        
    } else if ([5,6,7,8,12].includes(currentCategory)) {
        const item = announcements[currentCategory][index];
        document.getElementById('newsModalTitle').textContent = 'âœï¸ Edytuj Wpis';
        document.getElementById('newsTitle').value = item.title;
        document.getElementById('newsContent').value = item.content;
        document.getElementById('newsModal').style.display = 'flex';
    }
}

function moveAnnouncement(index, direction) {
if (!announcements[currentCategory]) {
console.error("Brak ogÅ‚oszeÅ„ dla tej kategorii");
return;
}

const arr = announcements[currentCategory];

if (direction === 'up' && index > 0) {
[arr[index], arr[index - 1]] = [arr[index - 1], arr[index]];
} else if (direction === 'down' && index < arr.length - 1) {
[arr[index], arr[index + 1]] = [arr[index + 1], arr[index]];
} else {
return;
}

saveAnnouncements()
.then(() => showAnnouncements())
.catch(error => {
console.error("BÅ‚Ä…d zapisu:", error);
alert("BÅ‚Ä…d podczas przesuwania ogÅ‚oszenia");
});
}

function timeAgo(timestamp) {
if (!timestamp) return 'brak daty';
const now = Date.now();
const diff = now - timestamp;

const seconds = Math.floor(diff / 1000);
const minutes = Math.floor(seconds / 60);
const hours = Math.floor(minutes / 60);
const days = Math.floor(hours / 24);

if (days > 0) return `${days} dni temu`;
if (hours > 0) return `${hours} godz. temu`;
if (minutes > 0) return `${minutes} min. temu`;
return `${seconds} sek. temu`;
}

function toggleAddButton() {
const btn = document.getElementById('addButton');
btn.style.display = [1, 9, 10, 11].includes(currentCategory) ? 'none' : 'block';
btn.textContent = currentCategory === 4 ? 'Dodaj NieobecnoÅ›Ä‡' : 
currentCategory === 2 ? 'Dodaj Wydarzenie' : 
currentCategory === 3 ? 'Dodaj OgÅ‚oszenie' : 
currentCategory === 5 ? 'Dodaj AktualnoÅ›Ä‡' :
currentCategory === 6 ? 'Dodaj OgÅ‚oszenie SU' :
currentCategory === 7 ? 'Dodaj OgÅ‚oszenie' :
currentCategory === 8 ? 'Dodaj OgÅ‚oszenie' :
currentCategory === 12 ? 'Dodaj OgÅ‚oszenie' :
'Dodaj OgÅ‚oszenie';
}

document.addEventListener('DOMContentLoaded', () => {
loadAnnouncements(() => {
showAnnouncements();
toggleAddButton();
});
});

document.getElementById('absenceForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const absenceData = {
        dateFrom: document.getElementById('absenceDateFrom').value,
        dateTo: document.getElementById('absenceDateTo').value,
        hours: document.getElementById('absenceHours').value,
        teacher: document.getElementById('absenceTeacher').value,
        reason: document.getElementById('absenceReason').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (!absenceData.dateFrom || !absenceData.dateTo || !absenceData.hours || !absenceData.teacher || !absenceData.reason) {
        alert('ProszÄ™ wypeÅ‚niÄ‡ wszystkie pola!');
        return;
    }

    if (editMode) {
        announcements[currentCategory][editIndex] = absenceData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(absenceData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('absenceModal').style.display = 'none';
            document.getElementById('absenceModalTitle').textContent = 'â• Dodaj NieobecnoÅ›Ä‡';
            this.reset();
        })
        .catch(error => {
            console.error("BÅ‚Ä…d podczas zapisywania:", error);
            alert("WystÄ…piÅ‚ bÅ‚Ä…d podczas zapisywania.");
        });
});

document.getElementById('eventForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const eventData = {
        date: document.getElementById('eventDate').value,
        hours: document.getElementById('eventHours').value,
        name: document.getElementById('eventName').value,
        category: document.getElementById('eventCategory').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (!eventData.date || !eventData.hours || !eventData.name || !eventData.category) {
        alert('ProszÄ™ wypeÅ‚niÄ‡ wszystkie pola!');
        return;
    }

    if (editMode) {
        announcements[currentCategory][editIndex] = eventData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(eventData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('eventModal').style.display = 'none';
            document.getElementById('eventModalTitle').textContent = 'â• Dodaj Wydarzenie';
            this.reset();
        })
        .catch(error => {
            console.error("BÅ‚Ä…d podczas zapisywania:", error);
            alert("WystÄ…piÅ‚ bÅ‚Ä…d podczas zapisywania.");
        });
});

document.getElementById('announcementForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const announcementData = {
        teacher: document.getElementById('announcementTeacher').value,
        title: document.getElementById('announcementTitle').value,
        content: document.getElementById('announcementContent').value,
        dateFrom: document.getElementById('announcementDateFrom').value,
        dateTo: document.getElementById('announcementDateTo').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (!announcementData.teacher || !announcementData.title || !announcementData.content || !announcementData.dateFrom || !announcementData.dateTo) {
        alert('ProszÄ™ wypeÅ‚niÄ‡ wszystkie pola!');
        return;
    }

    if (editMode) {
        announcements[currentCategory][editIndex] = announcementData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(announcementData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('announcementModal').style.display = 'none';
            document.getElementById('announcementModalTitle').textContent = 'â• Dodaj OgÅ‚oszenie';
            this.reset();
        })
        .catch(error => {
            console.error("BÅ‚Ä…d podczas zapisywania:", error);
            alert("WystÄ…piÅ‚ bÅ‚Ä…d podczas zapisywania.");
        });
});

document.getElementById('newsForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const newsData = {
        title: document.getElementById('newsTitle').value,
        content: document.getElementById('newsContent').value,
        timestamp: editMode ? announcements[currentCategory][editIndex].timestamp : Date.now()
    };

    if (!newsData.title || !newsData.content) {
        alert('ProszÄ™ wypeÅ‚niÄ‡ wszystkie pola!');
        return;
    }

    if (editMode) {
        announcements[currentCategory][editIndex] = newsData;
        editMode = false;
        editIndex = -1;
    } else {
        announcements[currentCategory].unshift(newsData);
    }

    saveAnnouncements()
        .then(() => {
            showAnnouncements();
            document.getElementById('newsModal').style.display = 'none';
            document.getElementById('newsModalTitle').textContent = 'â• Dodaj Wpis';
            this.reset();
        })
        .catch(error => {
            console.error("BÅ‚Ä…d podczas zapisywania:", error);
            alert("WystÄ…piÅ‚ bÅ‚Ä…d podczas zapisywania.");
        });
});

function handleAddButton() {
if (currentCategory === 4) {
addAbsence();
} else if (currentCategory === 2) {
addEvent();
} else if (currentCategory === 3) {
addAnnouncement();
} else if (currentCategory === 5 || [6,7,8,12].includes(currentCategory)) {
addNews();
}
}

function addAbsence() {
    editMode = false;
    editIndex = -1;
    document.getElementById('absenceForm').reset();
    document.getElementById('absenceModalTitle').textContent = 'â• Dodaj NieobecnoÅ›Ä‡';
    document.getElementById('absenceModal').style.display = 'flex';
}

function addEvent() {
    editMode = false;
    editIndex = -1;
    document.getElementById('eventForm').reset();
    document.getElementById('eventModalTitle').textContent = 'â• Dodaj Wydarzenie';
    document.getElementById('eventModal').style.display = 'flex';
}

function addAnnouncement() {
    editMode = false;
    editIndex = -1;
    document.getElementById('announcementForm').reset();
    document.getElementById('announcementModalTitle').textContent = 'â• Dodaj OgÅ‚oszenie';
    document.getElementById('announcementModal').style.display = 'flex';
}

function addNews() {
    editMode = false;
    editIndex = -1;
    document.getElementById('newsForm').reset();
    document.getElementById('newsModalTitle').textContent = 'â• Dodaj Wpis';
    document.getElementById('newsModal').style.display = 'flex';
}
</script>
</body>
</html>


